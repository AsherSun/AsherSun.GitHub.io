<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>《你不知道的JavaScript（中卷）》 | 十号</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="https://cdn.jsdelivr.net/gh/AsherSun/image-host/blog-img/xiuxian-logo.png">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.a883148b.css" as="style"><link rel="preload" href="/assets/js/app.730fe383.js" as="script"><link rel="preload" href="/assets/js/3.9989142c.js" as="script"><link rel="preload" href="/assets/js/1.3a008db8.js" as="script"><link rel="preload" href="/assets/js/43.d2b53984.js" as="script"><link rel="prefetch" href="/assets/js/10.3b912a2d.js"><link rel="prefetch" href="/assets/js/11.95014e5f.js"><link rel="prefetch" href="/assets/js/12.38f3c8e8.js"><link rel="prefetch" href="/assets/js/13.41755f38.js"><link rel="prefetch" href="/assets/js/14.e1655ac0.js"><link rel="prefetch" href="/assets/js/15.bce327d3.js"><link rel="prefetch" href="/assets/js/16.49b25e54.js"><link rel="prefetch" href="/assets/js/17.f1e266da.js"><link rel="prefetch" href="/assets/js/18.df83387c.js"><link rel="prefetch" href="/assets/js/19.30b3797f.js"><link rel="prefetch" href="/assets/js/20.2fdb598a.js"><link rel="prefetch" href="/assets/js/21.20fe2213.js"><link rel="prefetch" href="/assets/js/22.fde4fe00.js"><link rel="prefetch" href="/assets/js/23.29cb0f79.js"><link rel="prefetch" href="/assets/js/24.d53a8ebc.js"><link rel="prefetch" href="/assets/js/25.fc4aade1.js"><link rel="prefetch" href="/assets/js/26.a5747852.js"><link rel="prefetch" href="/assets/js/27.633e32cc.js"><link rel="prefetch" href="/assets/js/28.01f60ae7.js"><link rel="prefetch" href="/assets/js/29.b2c02be7.js"><link rel="prefetch" href="/assets/js/30.66607d96.js"><link rel="prefetch" href="/assets/js/31.fe42273d.js"><link rel="prefetch" href="/assets/js/32.6b9be322.js"><link rel="prefetch" href="/assets/js/33.4dbe597e.js"><link rel="prefetch" href="/assets/js/34.988e10fd.js"><link rel="prefetch" href="/assets/js/35.1fdb4c41.js"><link rel="prefetch" href="/assets/js/36.dc1941b7.js"><link rel="prefetch" href="/assets/js/37.bb0cb555.js"><link rel="prefetch" href="/assets/js/38.417a229f.js"><link rel="prefetch" href="/assets/js/39.d10940f4.js"><link rel="prefetch" href="/assets/js/4.500ff704.js"><link rel="prefetch" href="/assets/js/40.90cdab13.js"><link rel="prefetch" href="/assets/js/41.f5a89841.js"><link rel="prefetch" href="/assets/js/42.a5250d52.js"><link rel="prefetch" href="/assets/js/44.623633a1.js"><link rel="prefetch" href="/assets/js/45.a27fb66c.js"><link rel="prefetch" href="/assets/js/46.31453659.js"><link rel="prefetch" href="/assets/js/47.eddae06a.js"><link rel="prefetch" href="/assets/js/48.72596aa6.js"><link rel="prefetch" href="/assets/js/49.9f4d8f5b.js"><link rel="prefetch" href="/assets/js/5.47968762.js"><link rel="prefetch" href="/assets/js/50.63a79e0d.js"><link rel="prefetch" href="/assets/js/51.478b1b37.js"><link rel="prefetch" href="/assets/js/52.f006a0fc.js"><link rel="prefetch" href="/assets/js/53.f0ad8ec6.js"><link rel="prefetch" href="/assets/js/54.9b290e0b.js"><link rel="prefetch" href="/assets/js/55.1e86cfcc.js"><link rel="prefetch" href="/assets/js/56.da03d2fe.js"><link rel="prefetch" href="/assets/js/57.2c0018f9.js"><link rel="prefetch" href="/assets/js/58.0672aa51.js"><link rel="prefetch" href="/assets/js/59.b2e0a946.js"><link rel="prefetch" href="/assets/js/6.8b224979.js"><link rel="prefetch" href="/assets/js/60.f1f1fd89.js"><link rel="prefetch" href="/assets/js/61.20d6fc0f.js"><link rel="prefetch" href="/assets/js/62.31dadbfb.js"><link rel="prefetch" href="/assets/js/63.d2b3651e.js"><link rel="prefetch" href="/assets/js/64.89143d31.js"><link rel="prefetch" href="/assets/js/65.d85f1f89.js"><link rel="prefetch" href="/assets/js/66.976129a6.js"><link rel="prefetch" href="/assets/js/67.dca6b101.js"><link rel="prefetch" href="/assets/js/68.4aeeb689.js"><link rel="prefetch" href="/assets/js/69.58b5d893.js"><link rel="prefetch" href="/assets/js/7.2b74ab08.js"><link rel="prefetch" href="/assets/js/70.ab916a91.js"><link rel="prefetch" href="/assets/js/71.44b3dc4f.js"><link rel="prefetch" href="/assets/js/72.ce0608db.js"><link rel="prefetch" href="/assets/js/73.18528fe8.js"><link rel="prefetch" href="/assets/js/74.2b634d9d.js"><link rel="prefetch" href="/assets/js/75.0655e183.js"><link rel="prefetch" href="/assets/js/76.967caf97.js"><link rel="prefetch" href="/assets/js/77.7f8460af.js"><link rel="prefetch" href="/assets/js/78.24bd6824.js"><link rel="prefetch" href="/assets/js/79.dd7efbbf.js"><link rel="prefetch" href="/assets/js/8.65ce892c.js"><link rel="prefetch" href="/assets/js/80.8ecd58d1.js"><link rel="prefetch" href="/assets/js/81.e6963236.js"><link rel="prefetch" href="/assets/js/82.73ac9ee3.js"><link rel="prefetch" href="/assets/js/83.6714b1d0.js"><link rel="prefetch" href="/assets/js/84.c04671b9.js"><link rel="prefetch" href="/assets/js/85.a5064e46.js"><link rel="prefetch" href="/assets/js/86.8207ef25.js"><link rel="prefetch" href="/assets/js/87.8fda855c.js"><link rel="prefetch" href="/assets/js/88.e9f8592a.js"><link rel="prefetch" href="/assets/js/89.647bdc7b.js"><link rel="prefetch" href="/assets/js/9.b68cc135.js"><link rel="prefetch" href="/assets/js/90.97941095.js"><link rel="prefetch" href="/assets/js/91.0f4fde85.js"><link rel="prefetch" href="/assets/js/92.e8d1f6dc.js"><link rel="prefetch" href="/assets/js/93.2596127c.js"><link rel="prefetch" href="/assets/js/94.9bb9c945.js"><link rel="prefetch" href="/assets/js/95.abd0ee19.js"><link rel="prefetch" href="/assets/js/96.9efaa3e5.js"><link rel="prefetch" href="/assets/js/97.bbcd0e98.js"><link rel="prefetch" href="/assets/js/98.d74a45ef.js"><link rel="prefetch" href="/assets/js/99.46f91dc2.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a883148b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-9f1e2f90><div data-v-9f1e2f90><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-9f1e2f90 data-v-9f1e2f90><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-58d5ab76 data-v-9f1e2f90 data-v-9f1e2f90><h3 class="title" style="display:none;" data-v-58d5ab76 data-v-58d5ab76>十号</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-58d5ab76 data-v-58d5ab76><input type="password" value="" data-v-58d5ab76> <span data-v-58d5ab76>Konck! Knock!</span> <button data-v-58d5ab76>OK</button></label> <div class="footer" style="display:none;" data-v-58d5ab76 data-v-58d5ab76><span data-v-58d5ab76><i class="iconfont reco-theme" data-v-58d5ab76></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-58d5ab76>vuePress-theme-reco</a></span> <span data-v-58d5ab76><i class="iconfont reco-copyright" data-v-58d5ab76></i> <a data-v-58d5ab76><span data-v-58d5ab76>十号</span>
            
          <!---->
          2022
        </a></span></div></div> <div class="hide" data-v-9f1e2f90><header class="navbar" data-v-9f1e2f90><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">十号</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont undefined"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/《小狗钱钱》/" class="nav-link"><i class="iconfont undefined"></i>
  《小狗钱钱》
</a></li><li class="dropdown-item"><!----> <a href="/categories/浏览器/" class="nav-link"><i class="iconfont undefined"></i>
  浏览器
</a></li><li class="dropdown-item"><!----> <a href="/categories/Docker/" class="nav-link"><i class="iconfont undefined"></i>
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/categories/note/" class="nav-link"><i class="iconfont undefined"></i>
  note
</a></li><li class="dropdown-item"><!----> <a href="/categories/微前端/" class="nav-link"><i class="iconfont undefined"></i>
  微前端
</a></li><li class="dropdown-item"><!----> <a href="/categories/javascript/" class="nav-link"><i class="iconfont undefined"></i>
  javascript
</a></li><li class="dropdown-item"><!----> <a href="/categories/React/" class="nav-link"><i class="iconfont undefined"></i>
  React
</a></li><li class="dropdown-item"><!----> <a href="/categories/工具/" class="nav-link"><i class="iconfont undefined"></i>
  工具
</a></li><li class="dropdown-item"><!----> <a href="/categories/工具函数/" class="nav-link"><i class="iconfont undefined"></i>
  工具函数
</a></li><li class="dropdown-item"><!----> <a href="/categories/vue/" class="nav-link"><i class="iconfont undefined"></i>
  vue
</a></li></ul></div></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><a href="/about.html" class="nav-link"><i class="iconfont undefined"></i>
  简介
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-9f1e2f90></div> <aside class="sidebar" data-v-9f1e2f90><div class="personal-info-wrapper" data-v-3eba7259 data-v-9f1e2f90><!----> <h3 class="name" data-v-3eba7259>
    十号
  </h3> <div class="num" data-v-3eba7259><div data-v-3eba7259><h3 data-v-3eba7259>20</h3> <h6 data-v-3eba7259>Article</h6></div> <div data-v-3eba7259><h3 data-v-3eba7259>19</h3> <h6 data-v-3eba7259>Tag</h6></div></div> <hr data-v-3eba7259></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont undefined"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/《小狗钱钱》/" class="nav-link"><i class="iconfont undefined"></i>
  《小狗钱钱》
</a></li><li class="dropdown-item"><!----> <a href="/categories/浏览器/" class="nav-link"><i class="iconfont undefined"></i>
  浏览器
</a></li><li class="dropdown-item"><!----> <a href="/categories/Docker/" class="nav-link"><i class="iconfont undefined"></i>
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/categories/note/" class="nav-link"><i class="iconfont undefined"></i>
  note
</a></li><li class="dropdown-item"><!----> <a href="/categories/微前端/" class="nav-link"><i class="iconfont undefined"></i>
  微前端
</a></li><li class="dropdown-item"><!----> <a href="/categories/javascript/" class="nav-link"><i class="iconfont undefined"></i>
  javascript
</a></li><li class="dropdown-item"><!----> <a href="/categories/React/" class="nav-link"><i class="iconfont undefined"></i>
  React
</a></li><li class="dropdown-item"><!----> <a href="/categories/工具/" class="nav-link"><i class="iconfont undefined"></i>
  工具
</a></li><li class="dropdown-item"><!----> <a href="/categories/工具函数/" class="nav-link"><i class="iconfont undefined"></i>
  工具函数
</a></li><li class="dropdown-item"><!----> <a href="/categories/vue/" class="nav-link"><i class="iconfont undefined"></i>
  vue
</a></li></ul></div></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><a href="/about.html" class="nav-link"><i class="iconfont undefined"></i>
  简介
</a></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-58d5ab76 data-v-9f1e2f90><h3 class="title" style="display:none;" data-v-58d5ab76 data-v-58d5ab76>《你不知道的JavaScript（中卷）》</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-58d5ab76 data-v-58d5ab76><input type="password" value="" data-v-58d5ab76> <span data-v-58d5ab76>Konck! Knock!</span> <button data-v-58d5ab76>OK</button></label> <div class="footer" style="display:none;" data-v-58d5ab76 data-v-58d5ab76><span data-v-58d5ab76><i class="iconfont reco-theme" data-v-58d5ab76></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-58d5ab76>vuePress-theme-reco</a></span> <span data-v-58d5ab76><i class="iconfont reco-copyright" data-v-58d5ab76></i> <a data-v-58d5ab76><span data-v-58d5ab76>十号</span>
            
          <!---->
          2022
        </a></span></div></div> <div data-v-9f1e2f90><main class="page"><div class="page-title" style="display:none;"><h1 class="title">《你不知道的JavaScript（中卷）》</h1> <div data-v-42458482><i class="iconfont reco-account" data-v-42458482><span data-v-42458482>十号</span></i> <i class="iconfont reco-date" data-v-42458482><span data-v-42458482>2022-11-28</span></i> <!----> <i class="iconfont reco-tag tags" data-v-42458482><span class="tag-item" data-v-42458482>JavaScript</span><span class="tag-item" data-v-42458482>荒天帝</span></i></div></div> <div class="content__default"><div class="content__header"></div> <div class="content__default"><h2 id="第一部分-类型和语法"><a href="#第一部分-类型和语法" class="header-anchor">#</a> 第一部分 类型和语法</h2> <h2 id="第一章-类型"><a href="#第一章-类型" class="header-anchor">#</a> 第一章 类型</h2> <div class="note-block"><svg t="1665301607231" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4678" width="200" height="200" class="icon" style="width:20px;height:20px;"><path d="M512 469.333333m-426.666667 0a426.666667 426.666667 0 1 0 853.333334 0 426.666667 426.666667 0 1 0-853.333334 0Z" fill="#FFF59D" p-id="4679"></path><path d="M789.333333 469.333333c0-164.266667-140.8-294.4-309.333333-275.2-128 14.933333-230.4 117.333333-243.2 245.333334-10.666667 98.133333 29.866667 185.6 98.133333 241.066666 29.866667 25.6 49.066667 61.866667 49.066667 102.4v6.4h256v-2.133333c0-38.4 17.066667-76.8 46.933333-102.4 61.866667-51.2 102.4-128 102.4-215.466667z" fill="#FBC02D" p-id="4680"></path><path d="M652.8 430.933333l-64-42.666666c-6.4-4.266667-17.066667-4.266667-23.466667 0L512 422.4l-51.2-34.133333c-6.4-4.266667-17.066667-4.266667-23.466667 0l-64 42.666666c-4.266667 4.266667-8.533333 8.533333-8.533333 14.933334s0 12.8 4.266667 17.066666l81.066666 100.266667V789.333333h42.666667V554.666667c0-4.266667-2.133333-8.533333-4.266667-12.8l-70.4-87.466667 32-21.333333 51.2 34.133333c6.4 4.266667 17.066667 4.266667 23.466667 0l51.2-34.133333 32 21.333333-70.4 87.466667c-2.133333 4.266667-4.266667 8.533333-4.266667 12.8v234.666666h42.666667V563.2l81.066667-100.266667c4.266667-4.266667 6.4-10.666667 4.266666-17.066666s-4.266667-12.8-8.533333-14.933334z" fill="#FFF59D" p-id="4681"></path><path d="M512 938.666667m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" fill="#5C6BC0" p-id="4682"></path><path d="M554.666667 960h-85.333334c-46.933333 0-85.333333-38.4-85.333333-85.333333v-106.666667h256v106.666667c0 46.933333-38.4 85.333333-85.333333 85.333333z" fill="#9FA8DA" p-id="4683"></path><path d="M640 874.666667l-247.466667 34.133333c6.4 14.933333 19.2 29.866667 34.133334 38.4l200.533333-27.733333c8.533333-12.8 12.8-27.733333 12.8-44.8zM384 825.6v42.666667L640 832v-42.666667z" fill="#5C6BC0" p-id="4684"></path></svg> <style>
          blockquote {
            background-color: var(--code-color);
            border-color: #67cc86;
            border-left-width: 0.5rem;
            border-left-style: solid;
          }
        </style><p>ECMAScript类型细分为语言类型和规范类型</p> <p>ECMAScript语言类型包括<code>Undefined、Null、Boolean、String、Number、Object</code>。</p></div><h3 id="内置类型"><a href="#内置类型" class="header-anchor">#</a> 内置类型</h3> <div class="note-block"><svg t="1665301607231" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4678" width="200" height="200" class="icon" style="width:20px;height:20px;"><path d="M512 469.333333m-426.666667 0a426.666667 426.666667 0 1 0 853.333334 0 426.666667 426.666667 0 1 0-853.333334 0Z" fill="#FFF59D" p-id="4679"></path><path d="M789.333333 469.333333c0-164.266667-140.8-294.4-309.333333-275.2-128 14.933333-230.4 117.333333-243.2 245.333334-10.666667 98.133333 29.866667 185.6 98.133333 241.066666 29.866667 25.6 49.066667 61.866667 49.066667 102.4v6.4h256v-2.133333c0-38.4 17.066667-76.8 46.933333-102.4 61.866667-51.2 102.4-128 102.4-215.466667z" fill="#FBC02D" p-id="4680"></path><path d="M652.8 430.933333l-64-42.666666c-6.4-4.266667-17.066667-4.266667-23.466667 0L512 422.4l-51.2-34.133333c-6.4-4.266667-17.066667-4.266667-23.466667 0l-64 42.666666c-4.266667 4.266667-8.533333 8.533333-8.533333 14.933334s0 12.8 4.266667 17.066666l81.066666 100.266667V789.333333h42.666667V554.666667c0-4.266667-2.133333-8.533333-4.266667-12.8l-70.4-87.466667 32-21.333333 51.2 34.133333c6.4 4.266667 17.066667 4.266667 23.466667 0l51.2-34.133333 32 21.333333-70.4 87.466667c-2.133333 4.266667-4.266667 8.533333-4.266667 12.8v234.666666h42.666667V563.2l81.066667-100.266667c4.266667-4.266667 6.4-10.666667 4.266666-17.066666s-4.266667-12.8-8.533333-14.933334z" fill="#FFF59D" p-id="4681"></path><path d="M512 938.666667m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" fill="#5C6BC0" p-id="4682"></path><path d="M554.666667 960h-85.333334c-46.933333 0-85.333333-38.4-85.333333-85.333333v-106.666667h256v106.666667c0 46.933333-38.4 85.333333-85.333333 85.333333z" fill="#9FA8DA" p-id="4683"></path><path d="M640 874.666667l-247.466667 34.133333c6.4 14.933333 19.2 29.866667 34.133334 38.4l200.533333-27.733333c8.533333-12.8 12.8-27.733333 12.8-44.8zM384 825.6v42.666667L640 832v-42.666667z" fill="#5C6BC0" p-id="4684"></path></svg> <style>
          blockquote {
            background-color: var(--code-color);
            border-color: #67cc86;
            border-left-width: 0.5rem;
            border-left-style: solid;
          }
        </style><p>JavaScript有七种内置类型：</p> <ul><li>空值（<code>null</code>)</li> <li>未定义（<code>undefined</code>）</li> <li>布尔值（<code>boolean</code>）</li> <li>数字（<code>number</code>）</li> <li>字符串（<code>string</code>）</li> <li>对象（<code>object</code>）</li> <li>符号（<code>symbol</code>，ES6中新增）</li></ul> <p>除对象之外，其他统称为“基本类型”</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">typeof</span> <span class="token keyword">undefined</span> <span class="token operator">===</span> <span class="token string">'undefined'</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token keyword">typeof</span> <span class="token boolean">true</span> <span class="token operator">===</span> <span class="token string">'boolean'</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token keyword">typeof</span> <span class="token number">42</span> <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token keyword">typeof</span> <span class="token string">'42'</span> <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token keyword">typeof</span> <span class="token punctuation">{</span>life<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span> <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token keyword">typeof</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'symbol'</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><code>null</code>类型比较特殊</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">typeof</span> <span class="token keyword">null</span> <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>正确的返回结果应该是<code>'null'</code>，但这个bug由来已久，在JavaScript中已经存在了将近二十年，也许永远也不会修复，因为这牵涉到太多的Web系统，“修复”它会产生更多的bug，令许多系统无法正常工作。</p></div><div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p>使用复合条件来检测<code>null</code>值的类型</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token operator">!</span>a <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> a <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></div><div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">typeof</span> <span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">/** */</span><span class="token punctuation">}</span> <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>function</code>（函数）也是JavaScript的一个内置类型。查阅规范，它实际上是<code>object</code>的一个“子类型”。具体来说哦，函数是“可调用对象”，它有一个内部属性<code>[[Call]]</code>，该属性使其可以被调用。</p> <p>函数对象的<code>length</code>属性是其声明的参数的个数：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token parameter">b<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">/** */</span>
<span class="token punctuation">}</span>
a<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment">// 2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></div><div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">typeof</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>数组也是<code>object</code>的子类型</p></div><h3 id="值和类型"><a href="#值和类型" class="header-anchor">#</a> 值和类型</h3> <div class="note-block"><svg t="1665301607231" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4678" width="200" height="200" class="icon" style="width:20px;height:20px;"><path d="M512 469.333333m-426.666667 0a426.666667 426.666667 0 1 0 853.333334 0 426.666667 426.666667 0 1 0-853.333334 0Z" fill="#FFF59D" p-id="4679"></path><path d="M789.333333 469.333333c0-164.266667-140.8-294.4-309.333333-275.2-128 14.933333-230.4 117.333333-243.2 245.333334-10.666667 98.133333 29.866667 185.6 98.133333 241.066666 29.866667 25.6 49.066667 61.866667 49.066667 102.4v6.4h256v-2.133333c0-38.4 17.066667-76.8 46.933333-102.4 61.866667-51.2 102.4-128 102.4-215.466667z" fill="#FBC02D" p-id="4680"></path><path d="M652.8 430.933333l-64-42.666666c-6.4-4.266667-17.066667-4.266667-23.466667 0L512 422.4l-51.2-34.133333c-6.4-4.266667-17.066667-4.266667-23.466667 0l-64 42.666666c-4.266667 4.266667-8.533333 8.533333-8.533333 14.933334s0 12.8 4.266667 17.066666l81.066666 100.266667V789.333333h42.666667V554.666667c0-4.266667-2.133333-8.533333-4.266667-12.8l-70.4-87.466667 32-21.333333 51.2 34.133333c6.4 4.266667 17.066667 4.266667 23.466667 0l51.2-34.133333 32 21.333333-70.4 87.466667c-2.133333 4.266667-4.266667 8.533333-4.266667 12.8v234.666666h42.666667V563.2l81.066667-100.266667c4.266667-4.266667 6.4-10.666667 4.266666-17.066666s-4.266667-12.8-8.533333-14.933334z" fill="#FFF59D" p-id="4681"></path><path d="M512 938.666667m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" fill="#5C6BC0" p-id="4682"></path><path d="M554.666667 960h-85.333334c-46.933333 0-85.333333-38.4-85.333333-85.333333v-106.666667h256v106.666667c0 46.933333-38.4 85.333333-85.333333 85.333333z" fill="#9FA8DA" p-id="4683"></path><path d="M640 874.666667l-247.466667 34.133333c6.4 14.933333 19.2 29.866667 34.133334 38.4l200.533333-27.733333c8.533333-12.8 12.8-27.733333 12.8-44.8zM384 825.6v42.666667L640 832v-42.666667z" fill="#5C6BC0" p-id="4684"></path></svg> <style>
          blockquote {
            background-color: var(--code-color);
            border-color: #67cc86;
            border-left-width: 0.5rem;
            border-left-style: solid;
          }
        </style><p>JavaScript中的变量是没有类型的，只有值才有。变量可以随时持有任何类型的值。</p> <p>JavaScript不做“类型强制”；语言引擎不要求变量总是持有与其初始值同类型的值。一个变量可以现在被赋值为字符串类型值，随后又被赋值为数字类型值。</p></div><h3 id="undefined和undclared"><a href="#undefined和undclared" class="header-anchor">#</a> undefined和undclared</h3> <div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p>变量在未持有值的时候为<code>undefined</code>。此时<code>typeof</code>返回“<code>undefined</code>”。</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a<span class="token punctuation">;</span>

<span class="token keyword">typeof</span> a<span class="token punctuation">;</span> <span class="token comment">// &quot;undefined&quot;</span>

<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c<span class="token punctuation">;</span>

<span class="token comment">// later</span>
b <span class="token operator">=</span> c<span class="token punctuation">;</span>

<span class="token keyword">typeof</span> b<span class="token punctuation">;</span> <span class="token comment">// &quot;undefined&quot;</span>
<span class="token keyword">typeof</span> c<span class="token punctuation">;</span> <span class="token comment">// &quot;undefined&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>已在作用域中声明还没有赋值的变量，是<code>undefined</code>的。相反，还没有在作用域中声明过的变量，是<code>undeclared</code>的。</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a<span class="token punctuation">;</span>

a<span class="token punctuation">;</span> <span class="token comment">// undefined</span>
b<span class="token punctuation">;</span> <span class="token comment">// ReferenceError: b is not defined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>“<code>undefined</code>”和“<code>is not defined</code>”是两码事。此时如果浏览器报错成“<code>b is not found</code>”或者“<code>b is not declared</code>”会更准确。</p></div><div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a<span class="token punctuation">;</span>
<span class="token keyword">typeof</span> a<span class="token punctuation">;</span> <span class="token comment">// &quot;undefined&quot;</span>
<span class="token keyword">typeof</span> b<span class="token punctuation">;</span> <span class="token comment">// &quot;undefined&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>对于<code>undeclared</code>（或者<code>not defined</code>）变量，<code>typeof</code>照样返回'<code>undefined</code>'。虽然<code>b</code>是一个<code>undeclared</code>变量，但<code>typeof b</code>并没有报错。这是因为<code>typeof</code>有一个特殊的安全防范机制。</p> <p>此时<code>typeof</code>如果能返回<code>undeclared</code>（而非<code>undefined</code>）的话，情况会好很多。</p></div><h3 id="typeof-undeclared"><a href="#typeof-undeclared" class="header-anchor">#</a> typeof Undeclared</h3> <div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p><code>typeof</code>的安全防范机制如下：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 这样会抛出错误</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">DEBUG</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;Debugging is starting&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 这样是安全的</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token constant">DEBUG</span> <span class="token operator">!</span> <span class="token operator">==</span> <span class="token string">&quot;undefined&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token string">&quot;Debugging is starting&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>这不仅对用户定义的变量（比如<code>DEBUG</code>）有用，对内建的API也有帮助：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> atob <span class="token operator">===</span> <span class="token string">&quot;undefined&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">atob</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token regex">/＊..＊/</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div><div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p>另一种安全防范机制是通过浏览器中的全局对象<code>window</code>来处理</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span><span class="token constant">DEBUG</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ..</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>window<span class="token punctuation">.</span>atob<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ..</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>通过<code>window</code>来访问全局对象有一定的局限性，尤其当代码需要运行在多种JavaScript环境中（比如：浏览器、服务器端或其他JavaScript运行平台），因为此时全局对象并非总是<code>window</code>。</p></div><h2 id="第二章-值"><a href="#第二章-值" class="header-anchor">#</a> 第二章 值</h2> <h3 id="数组"><a href="#数组" class="header-anchor">#</a> 数组</h3> <div class="note-block"><svg t="1665301607231" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4678" width="200" height="200" class="icon" style="width:20px;height:20px;"><path d="M512 469.333333m-426.666667 0a426.666667 426.666667 0 1 0 853.333334 0 426.666667 426.666667 0 1 0-853.333334 0Z" fill="#FFF59D" p-id="4679"></path><path d="M789.333333 469.333333c0-164.266667-140.8-294.4-309.333333-275.2-128 14.933333-230.4 117.333333-243.2 245.333334-10.666667 98.133333 29.866667 185.6 98.133333 241.066666 29.866667 25.6 49.066667 61.866667 49.066667 102.4v6.4h256v-2.133333c0-38.4 17.066667-76.8 46.933333-102.4 61.866667-51.2 102.4-128 102.4-215.466667z" fill="#FBC02D" p-id="4680"></path><path d="M652.8 430.933333l-64-42.666666c-6.4-4.266667-17.066667-4.266667-23.466667 0L512 422.4l-51.2-34.133333c-6.4-4.266667-17.066667-4.266667-23.466667 0l-64 42.666666c-4.266667 4.266667-8.533333 8.533333-8.533333 14.933334s0 12.8 4.266667 17.066666l81.066666 100.266667V789.333333h42.666667V554.666667c0-4.266667-2.133333-8.533333-4.266667-12.8l-70.4-87.466667 32-21.333333 51.2 34.133333c6.4 4.266667 17.066667 4.266667 23.466667 0l51.2-34.133333 32 21.333333-70.4 87.466667c-2.133333 4.266667-4.266667 8.533333-4.266667 12.8v234.666666h42.666667V563.2l81.066667-100.266667c4.266667-4.266667 6.4-10.666667 4.266666-17.066666s-4.266667-12.8-8.533333-14.933334z" fill="#FFF59D" p-id="4681"></path><path d="M512 938.666667m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" fill="#5C6BC0" p-id="4682"></path><path d="M554.666667 960h-85.333334c-46.933333 0-85.333333-38.4-85.333333-85.333333v-106.666667h256v106.666667c0 46.933333-38.4 85.333333-85.333333 85.333333z" fill="#9FA8DA" p-id="4683"></path><path d="M640 874.666667l-247.466667 34.133333c6.4 14.933333 19.2 29.866667 34.133334 38.4l200.533333-27.733333c8.533333-12.8 12.8-27.733333 12.8-44.8zM384 825.6v42.666667L640 832v-42.666667z" fill="#5C6BC0" p-id="4684"></path></svg> <style>
          blockquote {
            background-color: var(--code-color);
            border-color: #67cc86;
            border-left-width: 0.5rem;
            border-left-style: solid;
          }
        </style><p>在JavaScript中，数组可以容纳任何类型的值，可以是字符串、数字、对象（<code>object</code>），甚至是其他数组（多维数组就是通过这种方式来实现的）</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

a<span class="token punctuation">.</span>length<span class="token punctuation">;</span>       <span class="token comment">// 3</span>
a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">;</span>     <span class="token comment">// true</span>
a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token number">3</span><span class="token punctuation">;</span>  <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>对数组声明后即可向其中加入值，不需要预先设定大小</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

a<span class="token punctuation">.</span>length<span class="token punctuation">;</span>   <span class="token comment">// 0</span>

a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
a<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">;</span>
a<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token number">3</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

a<span class="token punctuation">.</span>length<span class="token punctuation">;</span>   <span class="token comment">// 3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>使用<code>delete</code>运算符可以将单元从数组中删除，<strong>通过<code>delete</code>运算法删除单元后，数组的<code>length</code>属性并不会发生变化。</strong></p></div><div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p>数组通过数字进行索引，但它们也是对象，所以可以包含字符串键值和属性（但这些并不计算在数组长度内）：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
a<span class="token punctuation">[</span><span class="token string">&quot;foobar&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

a<span class="token punctuation">.</span>length<span class="token punctuation">;</span>       <span class="token comment">// 1</span>
a<span class="token punctuation">[</span><span class="token string">&quot;foobar&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">// 2</span>
a<span class="token punctuation">.</span>foobar<span class="token punctuation">;</span>       <span class="token comment">// 2</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>如果字符串键值能够被强制类型转换为十进制数字的话，它就会被当做数字索引来处理。</strong></p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

a<span class="token punctuation">[</span><span class="token string">&quot;13&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>

a<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment">// 14</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></div><div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p>工具函数<code>slice()</code>经常用于类数组转换</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> arguments <span class="token punctuation">)</span><span class="token punctuation">;</span>
  arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> <span class="token string">&quot;bam&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> arr <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">foo</span><span class="token punctuation">(</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;baz&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;bar&quot;, &quot;baz&quot;, &quot;bam&quot;]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>在ES6中的内置工具函数<code>Array.from()</code>也能实现同样的功能</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span> arguments <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div><h3 id="字符串"><a href="#字符串" class="header-anchor">#</a> 字符串</h3> <div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p>字符串不可变是指字符串的成员函数不会改变其原始值，而是创建并返回一个新的字符串。而数组的成员函数都是在其原始值上进行操作。</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">'foo'</span><span class="token punctuation">;</span>
c <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
a <span class="token operator">===</span> c<span class="token punctuation">;</span>    <span class="token comment">// false</span>
a<span class="token punctuation">;</span>          <span class="token comment">// &quot;foo&quot;</span>
c<span class="token punctuation">;</span>          <span class="token comment">// &quot;FOO&quot;</span>

b<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> <span class="token string">&quot;! &quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
b<span class="token punctuation">;</span>          <span class="token comment">// [&quot;f&quot;, &quot;O&quot;, &quot;o&quot;, &quot;! &quot;]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></div><div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p>许多数组函数用来处理字符串很方便。虽然字符串没有这些函数，但可以通过“借用”数组的非变更方法来处理字符串</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">'foo'</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span>join<span class="token punctuation">;</span>         <span class="token comment">// undefined</span>
a<span class="token punctuation">.</span>map<span class="token punctuation">;</span>          <span class="token comment">// undefined</span>

<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">&quot;-&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> v<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;.&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

c<span class="token punctuation">;</span>              <span class="token comment">// &quot;f-o-o&quot;</span>
d<span class="token punctuation">;</span>              <span class="token comment">// &quot;F.O.O.&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></div><div class="note-block"><svg t="1665301607231" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4678" width="200" height="200" class="icon" style="width:20px;height:20px;"><path d="M512 469.333333m-426.666667 0a426.666667 426.666667 0 1 0 853.333334 0 426.666667 426.666667 0 1 0-853.333334 0Z" fill="#FFF59D" p-id="4679"></path><path d="M789.333333 469.333333c0-164.266667-140.8-294.4-309.333333-275.2-128 14.933333-230.4 117.333333-243.2 245.333334-10.666667 98.133333 29.866667 185.6 98.133333 241.066666 29.866667 25.6 49.066667 61.866667 49.066667 102.4v6.4h256v-2.133333c0-38.4 17.066667-76.8 46.933333-102.4 61.866667-51.2 102.4-128 102.4-215.466667z" fill="#FBC02D" p-id="4680"></path><path d="M652.8 430.933333l-64-42.666666c-6.4-4.266667-17.066667-4.266667-23.466667 0L512 422.4l-51.2-34.133333c-6.4-4.266667-17.066667-4.266667-23.466667 0l-64 42.666666c-4.266667 4.266667-8.533333 8.533333-8.533333 14.933334s0 12.8 4.266667 17.066666l81.066666 100.266667V789.333333h42.666667V554.666667c0-4.266667-2.133333-8.533333-4.266667-12.8l-70.4-87.466667 32-21.333333 51.2 34.133333c6.4 4.266667 17.066667 4.266667 23.466667 0l51.2-34.133333 32 21.333333-70.4 87.466667c-2.133333 4.266667-4.266667 8.533333-4.266667 12.8v234.666666h42.666667V563.2l81.066667-100.266667c4.266667-4.266667 6.4-10.666667 4.266666-17.066666s-4.266667-12.8-8.533333-14.933334z" fill="#FFF59D" p-id="4681"></path><path d="M512 938.666667m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" fill="#5C6BC0" p-id="4682"></path><path d="M554.666667 960h-85.333334c-46.933333 0-85.333333-38.4-85.333333-85.333333v-106.666667h256v106.666667c0 46.933333-38.4 85.333333-85.333333 85.333333z" fill="#9FA8DA" p-id="4683"></path><path d="M640 874.666667l-247.466667 34.133333c6.4 14.933333 19.2 29.866667 34.133334 38.4l200.533333-27.733333c8.533333-12.8 12.8-27.733333 12.8-44.8zM384 825.6v42.666667L640 832v-42.666667z" fill="#5C6BC0" p-id="4684"></path></svg> <style>
          blockquote {
            background-color: var(--code-color);
            border-color: #67cc86;
            border-left-width: 0.5rem;
            border-left-style: solid;
          }
        </style><p>常见面试题：字符串反转</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">'foo!'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'f'</span><span class="token punctuation">,</span> <span class="token string">'o'</span><span class="token punctuation">,</span> <span class="token string">'o'</span><span class="token punctuation">,</span> <span class="token string">'!'</span><span class="token punctuation">]</span>
a<span class="token punctuation">.</span>reverse<span class="token punctuation">;</span>      <span class="token comment">// undefined</span>

b<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// [&quot;! &quot;, &quot;o&quot;, &quot;O&quot;, &quot;f&quot;]</span>
b<span class="token punctuation">;</span>              <span class="token comment">// [&quot;f&quot;, &quot;O&quot;, &quot;o&quot;, &quot;! &quot;]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>我们无法“借用”数组的可变更成员函数，因为字符串是不可变的：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> a <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 返回值仍然是字符串&quot;foo&quot;的一个封装对象</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>变通的办法是先将字符串转换为数组，待处理完后再将结果换回字符串：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> c <span class="token operator">=</span> a
    <span class="token comment">// 将a的值转换为字符数组</span>
    <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
    <span class="token comment">// 将数组中的字符进行倒转</span>
    <span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 将数组中的字符拼接回字符串</span>
    <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

c<span class="token punctuation">;</span> <span class="token comment">// &quot;!oof&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>上述方法对于包含复杂字符串（Unicode，如星号、多字节字符等）的字符串并不适用。这时则需需要功能更加完备、能够处理Unicode的工具库。可以参考Mathias Bynen的Esrever（https://github.com/mathiasbynents/esrever）。</strong></p></div><h3 id="数字"><a href="#数字" class="header-anchor">#</a> 数字</h3> <div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p>特别大和特别小的数字默认用指数格式显示，与<code>toExponential()</code>函数的输出结果相同：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">5E10</span><span class="token punctuation">;</span>
a<span class="token punctuation">;</span>                  <span class="token comment">// 50000000000</span>
a<span class="token punctuation">.</span><span class="token function">toExponential</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// &quot;5e+10&quot;</span>

<span class="token keyword">var</span> b <span class="token operator">=</span> a ＊ a<span class="token punctuation">;</span>
b<span class="token punctuation">;</span>                  <span class="token comment">// 2.5e+21</span>

<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">/</span> a<span class="token punctuation">;</span>
c<span class="token punctuation">;</span>                  <span class="token comment">// 2e-11</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></div><div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p><code>toFixed()</code>方法可以指定小数部分的显示位数：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">42.59</span><span class="token punctuation">;</span>

a<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;43&quot;</span>
a<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;42.6&quot;</span>
a<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span> <span class="token number">2</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;42.59&quot;</span>
a<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span> <span class="token number">3</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;42.590&quot;</span>
a<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span> <span class="token number">4</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;42.5900&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>例子中的输出结果实际上是给定数字的字符串形式，如果指定的小数部分的显示位数多余实际位数就用0补齐。</p></div><div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p><code>toPrecision()</code>方法用来指定有效位数的显示位数：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">42.59</span><span class="token punctuation">;</span>

a<span class="token punctuation">.</span><span class="token function">toPrecision</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;4e+1&quot;</span>
a<span class="token punctuation">.</span><span class="token function">toPrecision</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;43&quot;</span>
a<span class="token punctuation">.</span><span class="token function">toPrecision</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;42.6&quot;</span>
a<span class="token punctuation">.</span><span class="token function">toPrecision</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;42.59&quot;</span>
a<span class="token punctuation">.</span><span class="token function">toPrecision</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;42.590&quot;</span>
a<span class="token punctuation">.</span><span class="token function">toPrecision</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;42.5900&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>上面的方法不仅适用于数字变量，也适用于数字字面量。<strong>不过对于<code>.</code>运算符需需要给予特别注意，因为她是一个有效的数字字符，会被优先识别为数字字面量的一部分，然后才是对象属性访问运算法。</strong></p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 无效语法：</span>
<span class="token number">42.</span><span class="token function">toFixed</span><span class="token punctuation">(</span> <span class="token number">3</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// SyntaxError</span>

<span class="token comment">// 下面的语法都有效：</span>
<span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span> <span class="token number">3</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// &quot;42.000&quot;</span>
<span class="token number">0.42</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span> <span class="token number">3</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// &quot;0.420&quot;</span>
<span class="token number">42.</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span> <span class="token number">3</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// &quot;42.000&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><code>42.toFixed(3)</code>是无效语法，因为<code>.</code>被视为常量<code>42.</code>的一部分，所以没有<code>.</code>属性访问运算符来调用<code>toFixed</code>方法。</p> <p>下面的语法也是有效的（请注意其中的空格）：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token number">42</span> <span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;42.000&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div><div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p>我们还可以用指数形式来表示较大的数字：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> onethousand <span class="token operator">=</span> <span class="token number">1E3</span><span class="token punctuation">;</span>                      <span class="token comment">// 即 1 ＊ 10^3</span>
<span class="token keyword">var</span> onemilliononehundredthousand <span class="token operator">=</span> <span class="token number">1.1E6</span><span class="token punctuation">;</span>   <span class="token comment">// 即 1.1 ＊ 10^6</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></div><div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p>数字字面量还可以用其他格式来表示，如二进制、八进制和十六进制。当前的JavaScript版本都支持这些格式：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token number">0xf3</span><span class="token punctuation">;</span> <span class="token comment">// 243的十六进制</span>
<span class="token number">0Xf3</span><span class="token punctuation">;</span> <span class="token comment">// 同上</span>

<span class="token number">0363</span><span class="token punctuation">;</span> <span class="token comment">// 243的八进制</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>从ES6开始，严格模式（strict mode）不再支持<code>0363</code>八进制格式。<code>0363</code>格式在非严格模式（non-strict mode）中仍然受支持，但是考虑到将来的兼容性，最好不要再使用</strong></p> <p>ES6支持以下新格式：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token number">0o363</span><span class="token punctuation">;</span>      <span class="token comment">// 243的八进制</span>
<span class="token number">0O363</span><span class="token punctuation">;</span>      <span class="token comment">// 同上</span>

<span class="token number">0b11110011</span><span class="token punctuation">;</span> <span class="token comment">// 243的二进制</span>
<span class="token number">0B11110011</span><span class="token punctuation">;</span> <span class="token comment">// 同上</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>考虑到代码的易读性，不推荐使用<code>0O363</code>格式，因为0和大写字母O在一起容易混淆。建议尽量使用小写的<code>0x、0b</code>和<code>0o</code>。</p></div><div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p>如何判断<code>0.1 + 0.2</code>和<code>0.3</code>是否相等？</p> <p>常见的方法是设置一个误差范围值，通常被称为”机器精度“（machineepsilon），对JavaScript的数字来说，这个值通常是<code>2^-52（2.220446049250313e-16）</code>。</p> <p>在ES6中，该值定义在<code>Number.EPSILON</code>中，ES6之前的版本写polyfill：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Number<span class="token punctuation">.</span><span class="token constant">EPSILON</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Number<span class="token punctuation">.</span><span class="token constant">EPSILON</span> <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">52</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>在指定误差范围内，使用<code>Number.EPSILON</code>来比较两个数字是否相等</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">numbersCloseEnoughToEqual</span><span class="token punctuation">(</span><span class="token parameter">n1<span class="token punctuation">,</span> n2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>n1 <span class="token operator">-</span> n2<span class="token punctuation">)</span> <span class="token operator">&lt;</span> Number<span class="token punctuation">.</span><span class="token constant">EPSILON</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0.1</span> <span class="token operator">+</span> <span class="token number">0.2</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">0.3</span><span class="token punctuation">;</span>

<span class="token function">numbersCloseEnoughToEqual</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">// true</span>
<span class="token function">numbersCloseEnoughToEqual</span><span class="token punctuation">(</span><span class="token number">0.0000001</span><span class="token punctuation">,</span> <span class="token number">0.0000002</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>能够呈现的最大浮点数大约是<code>1.798e+308</code>（这是一个相当大的数字），它定义在<code>Number.MAX_VALUE</code>中。最小浮点数定义在<code>Number.MIN_VALU</code>E中，大约是<code>5e-324</code>，它不是负数，但无限接近于0！</p></div><h3 id="整数的安全范围"><a href="#整数的安全范围" class="header-anchor">#</a> 整数的安全范围</h3> <div class="note-block"><svg t="1665301607231" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4678" width="200" height="200" class="icon" style="width:20px;height:20px;"><path d="M512 469.333333m-426.666667 0a426.666667 426.666667 0 1 0 853.333334 0 426.666667 426.666667 0 1 0-853.333334 0Z" fill="#FFF59D" p-id="4679"></path><path d="M789.333333 469.333333c0-164.266667-140.8-294.4-309.333333-275.2-128 14.933333-230.4 117.333333-243.2 245.333334-10.666667 98.133333 29.866667 185.6 98.133333 241.066666 29.866667 25.6 49.066667 61.866667 49.066667 102.4v6.4h256v-2.133333c0-38.4 17.066667-76.8 46.933333-102.4 61.866667-51.2 102.4-128 102.4-215.466667z" fill="#FBC02D" p-id="4680"></path><path d="M652.8 430.933333l-64-42.666666c-6.4-4.266667-17.066667-4.266667-23.466667 0L512 422.4l-51.2-34.133333c-6.4-4.266667-17.066667-4.266667-23.466667 0l-64 42.666666c-4.266667 4.266667-8.533333 8.533333-8.533333 14.933334s0 12.8 4.266667 17.066666l81.066666 100.266667V789.333333h42.666667V554.666667c0-4.266667-2.133333-8.533333-4.266667-12.8l-70.4-87.466667 32-21.333333 51.2 34.133333c6.4 4.266667 17.066667 4.266667 23.466667 0l51.2-34.133333 32 21.333333-70.4 87.466667c-2.133333 4.266667-4.266667 8.533333-4.266667 12.8v234.666666h42.666667V563.2l81.066667-100.266667c4.266667-4.266667 6.4-10.666667 4.266666-17.066666s-4.266667-12.8-8.533333-14.933334z" fill="#FFF59D" p-id="4681"></path><path d="M512 938.666667m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" fill="#5C6BC0" p-id="4682"></path><path d="M554.666667 960h-85.333334c-46.933333 0-85.333333-38.4-85.333333-85.333333v-106.666667h256v106.666667c0 46.933333-38.4 85.333333-85.333333 85.333333z" fill="#9FA8DA" p-id="4683"></path><path d="M640 874.666667l-247.466667 34.133333c6.4 14.933333 19.2 29.866667 34.133334 38.4l200.533333-27.733333c8.533333-12.8 12.8-27.733333 12.8-44.8zM384 825.6v42.666667L640 832v-42.666667z" fill="#5C6BC0" p-id="4684"></path></svg> <style>
          blockquote {
            background-color: var(--code-color);
            border-color: #67cc86;
            border-left-width: 0.5rem;
            border-left-style: solid;
          }
        </style><p>能够被“安全”呈现的最大整数是<code>2^53-1</code>，即<code>9007199254740991</code>，在ES6中被定义为<code>Number.MAX_SAFE_INTEGER</code>。最小整数是<code>-9007199254740991</code>，在ES6中被定义为<code>Number.MIN_SAFE_INTEGER</code>。</p></div><h3 id="整数检测"><a href="#整数检测" class="header-anchor">#</a> 整数检测</h3> <div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p>使用ES6中的<code>Number.isInteger()</code>方法来检测一个值是否是整数</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code>Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// true</span>
Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span><span class="token number">42.000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span><span class="token number">42.3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ES6之前的polyfill版本的<code>Number.isInteger()</code>方法：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> Number<span class="token punctuation">.</span>isInteger<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Number<span class="token punctuation">.</span><span class="token function-variable function">isInteger</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">typeof</span> num <span class="token operator">==</span> <span class="token string">&quot;number&quot;</span> <span class="token operator">&amp;&amp;</span> num <span class="token operator">%</span> <span class="token number">1</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></div><div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p>可以用ES6中的<code>Number.isSafeInteger()</code>方法来检测一个值是否是安全的整数</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code>Number<span class="token punctuation">.</span><span class="token function">isSafeInteger</span><span class="token punctuation">(</span>Number<span class="token punctuation">.</span><span class="token constant">MAX</span> <span class="token constant">SAFE</span> <span class="token constant">INTEGER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// true</span>
Number<span class="token punctuation">.</span><span class="token function">isSafeInteger</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// false</span>
Number<span class="token punctuation">.</span><span class="token function">isSafeInteger</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ES6之前的polyfill版本的<code>Number.isSafeInteger()</code>方法：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> Number<span class="token punctuation">.</span>isSafeInteger<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Number<span class="token punctuation">.</span><span class="token function-variable function">isSafeInteger</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span> num <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
    Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span> num <span class="token punctuation">)</span> <span class="token operator">&lt;=</span> Number<span class="token punctuation">.</span><span class="token constant">MAX</span> <span class="token constant">SAFE</span> <span class="token constant">INTEGER</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></div><h3 id="_32位有符号整数"><a href="#_32位有符号整数" class="header-anchor">#</a> 32位有符号整数</h3> <div class="note-block"><svg t="1665301607231" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4678" width="200" height="200" class="icon" style="width:20px;height:20px;"><path d="M512 469.333333m-426.666667 0a426.666667 426.666667 0 1 0 853.333334 0 426.666667 426.666667 0 1 0-853.333334 0Z" fill="#FFF59D" p-id="4679"></path><path d="M789.333333 469.333333c0-164.266667-140.8-294.4-309.333333-275.2-128 14.933333-230.4 117.333333-243.2 245.333334-10.666667 98.133333 29.866667 185.6 98.133333 241.066666 29.866667 25.6 49.066667 61.866667 49.066667 102.4v6.4h256v-2.133333c0-38.4 17.066667-76.8 46.933333-102.4 61.866667-51.2 102.4-128 102.4-215.466667z" fill="#FBC02D" p-id="4680"></path><path d="M652.8 430.933333l-64-42.666666c-6.4-4.266667-17.066667-4.266667-23.466667 0L512 422.4l-51.2-34.133333c-6.4-4.266667-17.066667-4.266667-23.466667 0l-64 42.666666c-4.266667 4.266667-8.533333 8.533333-8.533333 14.933334s0 12.8 4.266667 17.066666l81.066666 100.266667V789.333333h42.666667V554.666667c0-4.266667-2.133333-8.533333-4.266667-12.8l-70.4-87.466667 32-21.333333 51.2 34.133333c6.4 4.266667 17.066667 4.266667 23.466667 0l51.2-34.133333 32 21.333333-70.4 87.466667c-2.133333 4.266667-4.266667 8.533333-4.266667 12.8v234.666666h42.666667V563.2l81.066667-100.266667c4.266667-4.266667 6.4-10.666667 4.266666-17.066666s-4.266667-12.8-8.533333-14.933334z" fill="#FFF59D" p-id="4681"></path><path d="M512 938.666667m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" fill="#5C6BC0" p-id="4682"></path><path d="M554.666667 960h-85.333334c-46.933333 0-85.333333-38.4-85.333333-85.333333v-106.666667h256v106.666667c0 46.933333-38.4 85.333333-85.333333 85.333333z" fill="#9FA8DA" p-id="4683"></path><path d="M640 874.666667l-247.466667 34.133333c6.4 14.933333 19.2 29.866667 34.133334 38.4l200.533333-27.733333c8.533333-12.8 12.8-27.733333 12.8-44.8zM384 825.6v42.666667L640 832v-42.666667z" fill="#5C6BC0" p-id="4684"></path></svg> <style>
          blockquote {
            background-color: var(--code-color);
            border-color: #67cc86;
            border-left-width: 0.5rem;
            border-left-style: solid;
          }
        </style><p><code>a | 0</code>可以将变量<code>a</code>中的数值转换为<code>32</code>位有符号整数，因为数位运算符<code>|</code>只适用于<code>32</code>位整数（它只关心<code>32</code>位以内的值，其他的数位将被忽略）。因此与<code>0</code>进行<code>OR</code>操作本质上没有意义。</p></div><h3 id="不是值的值"><a href="#不是值的值" class="header-anchor">#</a> 不是值的值</h3> <div class="note-block"><svg t="1665301607231" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4678" width="200" height="200" class="icon" style="width:20px;height:20px;"><path d="M512 469.333333m-426.666667 0a426.666667 426.666667 0 1 0 853.333334 0 426.666667 426.666667 0 1 0-853.333334 0Z" fill="#FFF59D" p-id="4679"></path><path d="M789.333333 469.333333c0-164.266667-140.8-294.4-309.333333-275.2-128 14.933333-230.4 117.333333-243.2 245.333334-10.666667 98.133333 29.866667 185.6 98.133333 241.066666 29.866667 25.6 49.066667 61.866667 49.066667 102.4v6.4h256v-2.133333c0-38.4 17.066667-76.8 46.933333-102.4 61.866667-51.2 102.4-128 102.4-215.466667z" fill="#FBC02D" p-id="4680"></path><path d="M652.8 430.933333l-64-42.666666c-6.4-4.266667-17.066667-4.266667-23.466667 0L512 422.4l-51.2-34.133333c-6.4-4.266667-17.066667-4.266667-23.466667 0l-64 42.666666c-4.266667 4.266667-8.533333 8.533333-8.533333 14.933334s0 12.8 4.266667 17.066666l81.066666 100.266667V789.333333h42.666667V554.666667c0-4.266667-2.133333-8.533333-4.266667-12.8l-70.4-87.466667 32-21.333333 51.2 34.133333c6.4 4.266667 17.066667 4.266667 23.466667 0l51.2-34.133333 32 21.333333-70.4 87.466667c-2.133333 4.266667-4.266667 8.533333-4.266667 12.8v234.666666h42.666667V563.2l81.066667-100.266667c4.266667-4.266667 6.4-10.666667 4.266666-17.066666s-4.266667-12.8-8.533333-14.933334z" fill="#FFF59D" p-id="4681"></path><path d="M512 938.666667m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" fill="#5C6BC0" p-id="4682"></path><path d="M554.666667 960h-85.333334c-46.933333 0-85.333333-38.4-85.333333-85.333333v-106.666667h256v106.666667c0 46.933333-38.4 85.333333-85.333333 85.333333z" fill="#9FA8DA" p-id="4683"></path><path d="M640 874.666667l-247.466667 34.133333c6.4 14.933333 19.2 29.866667 34.133334 38.4l200.533333-27.733333c8.533333-12.8 12.8-27.733333 12.8-44.8zM384 825.6v42.666667L640 832v-42.666667z" fill="#5C6BC0" p-id="4684"></path></svg> <style>
          blockquote {
            background-color: var(--code-color);
            border-color: #67cc86;
            border-left-width: 0.5rem;
            border-left-style: solid;
          }
        </style><p><code>undefined</code>和<code>null</code>常被用来表示“空的”值或“不是值”的值。二者之间有一些细微的差别。例如：</p> <ul><li><code>null</code>指空值（empty value）</li> <li><code>undefined</code>指没有值（missing value）</li></ul> <p>或者：</p> <ul><li><code>undefined</code>指从未赋值</li> <li><code>null</code>指曾赋过值，但是目前没有值</li></ul> <p><code>null</code>是一个特殊关键字，不是标识符，我们不能将其当作变量来使用和赋值。然而<code>undefined</code>却是一个标识符，可以被当作变量来使用和赋值。</p></div><h3 id="undefined"><a href="#undefined" class="header-anchor">#</a> undefined</h3> <div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p>在非严格模式下，我们可以为全局标识符<code>undefined</code>赋值</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// 非常糟糕的做法！</span>
<span class="token punctuation">}</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// TypeError!</span>
<span class="token punctuation">}</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>在非严格和严格两种模式下，我们可以声明一个名为<code>undefined</code>的局部变量。再次强调最好不要这样做！</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token keyword">undefined</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
<span class="token punctuation">}</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></div><div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p>表达式<code>void______</code>没有返回值，因此返回结果是<code>undefined</code>。<code>void</code>并不改变表达式的结果，只是让表达式不返回值：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token keyword">void</span> a<span class="token punctuation">,</span> a <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined 42</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>按惯例我们用<code>void 0</code>来获得<code>undefined</code>（这主要源自C语言，当然使用<code>void true</code>或其他<code>void</code>表达式也是可以的）。<code>void 0、void 1</code>和<code>undefined</code>之间并没有实质上的区别。</p> <p>不让表达式返回任何结果（即时有副作用）：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 注：APP.ready由程序自己定义</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token constant">APP</span><span class="token punctuation">.</span>ready<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 稍后再试</span>
    <span class="token keyword">return</span> <span class="token keyword">void</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span> doSomething<span class="token punctuation">,</span><span class="token number">100</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">var</span> result<span class="token punctuation">;</span>

  <span class="token comment">// 其他</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 现在可以了吗？</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 立即执行下一个任务</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></div><h3 id="特殊的数字"><a href="#特殊的数字" class="header-anchor">#</a> 特殊的数字</h3> <div class="note-block"><svg t="1665301607231" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4678" width="200" height="200" class="icon" style="width:20px;height:20px;"><path d="M512 469.333333m-426.666667 0a426.666667 426.666667 0 1 0 853.333334 0 426.666667 426.666667 0 1 0-853.333334 0Z" fill="#FFF59D" p-id="4679"></path><path d="M789.333333 469.333333c0-164.266667-140.8-294.4-309.333333-275.2-128 14.933333-230.4 117.333333-243.2 245.333334-10.666667 98.133333 29.866667 185.6 98.133333 241.066666 29.866667 25.6 49.066667 61.866667 49.066667 102.4v6.4h256v-2.133333c0-38.4 17.066667-76.8 46.933333-102.4 61.866667-51.2 102.4-128 102.4-215.466667z" fill="#FBC02D" p-id="4680"></path><path d="M652.8 430.933333l-64-42.666666c-6.4-4.266667-17.066667-4.266667-23.466667 0L512 422.4l-51.2-34.133333c-6.4-4.266667-17.066667-4.266667-23.466667 0l-64 42.666666c-4.266667 4.266667-8.533333 8.533333-8.533333 14.933334s0 12.8 4.266667 17.066666l81.066666 100.266667V789.333333h42.666667V554.666667c0-4.266667-2.133333-8.533333-4.266667-12.8l-70.4-87.466667 32-21.333333 51.2 34.133333c6.4 4.266667 17.066667 4.266667 23.466667 0l51.2-34.133333 32 21.333333-70.4 87.466667c-2.133333 4.266667-4.266667 8.533333-4.266667 12.8v234.666666h42.666667V563.2l81.066667-100.266667c4.266667-4.266667 6.4-10.666667 4.266666-17.066666s-4.266667-12.8-8.533333-14.933334z" fill="#FFF59D" p-id="4681"></path><path d="M512 938.666667m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" fill="#5C6BC0" p-id="4682"></path><path d="M554.666667 960h-85.333334c-46.933333 0-85.333333-38.4-85.333333-85.333333v-106.666667h256v106.666667c0 46.933333-38.4 85.333333-85.333333 85.333333z" fill="#9FA8DA" p-id="4683"></path><path d="M640 874.666667l-247.466667 34.133333c6.4 14.933333 19.2 29.866667 34.133334 38.4l200.533333-27.733333c8.533333-12.8 12.8-27.733333 12.8-44.8zM384 825.6v42.666667L640 832v-42.666667z" fill="#5C6BC0" p-id="4684"></path></svg> <style>
          blockquote {
            background-color: var(--code-color);
            border-color: #67cc86;
            border-left-width: 0.5rem;
            border-left-style: solid;
          }
        </style><p><code>NaN</code>意指“不是一个数字”（not a number），这个名字容易引起误会，后面将会提到。将它理解为“无效数值”“失败数值”或者“坏数值”可能更准确些。</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">/</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">;</span>      <span class="token comment">// NaN</span>

<span class="token keyword">typeof</span> a <span class="token operator">===</span> <span class="token string">&quot;number&quot;</span><span class="token punctuation">;</span>  <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>NaN</code>是一个“警戒值”（sentinel value，有特殊用途的常规值），用于指出数字类型中的错误情况，即“执行数学运算没有成功，这是失败后返回的结果”。</p></div><div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p><code>NaN</code>是一个特殊值，它和自身不相等，是唯一一个非自反（自反，reflexive，即<code>x === x</code>不成立）的值。而<code>NaN != NaN</code>为<code>true</code>，很奇怪吧？</p> <p>使用内建的全局工具函数<code>isNaN(..)</code>来判断一个值是否是<code>NaN</code></p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">/</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">;</span>

a<span class="token punctuation">;</span> <span class="token comment">// NaN</span>
b<span class="token punctuation">;</span> <span class="token string">&quot;foo&quot;</span>

window<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span> a <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
window<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span> b <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true——晕！</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><code>isNaN(..)</code>有一个严重的缺陷，它的检查方式过于死板，就是“检查参数是否不是NaN，也不是数字”。</p> <p>很明显&quot;<code>foo</code>&quot;不是一个数字，但是它也不是<code>NaN</code>。这个bug自JavaScript问世以来就一直存在，至今已超过19年。</p> <p>我们也可以使用ES6中的工具函数：<code>Number.isNaN()</code></p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">/</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">;</span>

a<span class="token punctuation">;</span> <span class="token comment">// NaN</span>
b<span class="token punctuation">;</span> <span class="token string">&quot;foo&quot;</span>

Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span> a <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span> b <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true——晕！</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>ES6之前的polyfill代码：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> Number<span class="token punctuation">.</span>isNaN<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Number<span class="token punctuation">.</span><span class="token function-variable function">isNaN</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token keyword">typeof</span> n <span class="token operator">===</span> <span class="token string">&quot;number&quot;</span> <span class="token operator">&amp;&amp;</span>
      window<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span> n <span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">/</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">;</span>

Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span> a <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span> b <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false——好！</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>另一个更简单的方法是利用<code>NaN</code>不等于自身这个特点</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> Number<span class="token punctuation">.</span>isNaN<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Number<span class="token punctuation">.</span><span class="token function-variable function">isNaN</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> n <span class="token operator">!</span> <span class="token operator">==</span> n<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>我们应该尽量使用<code>Number.isNaN()</code>这样可靠的方法，无论是系统内置还是polyfill</p></div><h3 id="无穷数"><a href="#无穷数" class="header-anchor">#</a> 无穷数</h3> <div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">/</span> <span class="token number">0</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在JavaScript中上例的结果为<code>Infinity</code>（即<code>Number.POSITIVE_INfINITY</code>）。同样：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">/</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token comment">// Infinity</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">/</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// -Infinity</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>JavaScript的运算结果有可能溢出，此时结果为<code>Infinity</code>或者<code>-Infinity</code></p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> Number<span class="token punctuation">.</span><span class="token constant">MAX</span> <span class="token constant">VALUE</span><span class="token punctuation">;</span>   <span class="token comment">// 1.7976931348623157e+308</span>
a <span class="token operator">+</span> a<span class="token punctuation">;</span>                      <span class="token comment">// Infinity</span>
a <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">970</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// Infinity</span>
a <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">969</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// 1.7976931348623157e+308</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>规范规定，如果数学运算（如加法）的结果超出处理范围，则由IEEE 754规范中的“就近取整”（round-to-nearest）模式来决定最后的结果。例如，相对于<code>Infinity,Number.MAX_VALUE + Math.pow(2, 969)</code>与<code>Number.MAX_VALUE</code>更为接近，因此它被“向下取整”（round down）；而<code>Number.MAX_VALUE + Math.pow(2,970)</code>与<code>Infinity</code>更为接近，所以它被“向上取整”（round up）。</p></div><div class="note-block"><svg t="1665301607231" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4678" width="200" height="200" class="icon" style="width:20px;height:20px;"><path d="M512 469.333333m-426.666667 0a426.666667 426.666667 0 1 0 853.333334 0 426.666667 426.666667 0 1 0-853.333334 0Z" fill="#FFF59D" p-id="4679"></path><path d="M789.333333 469.333333c0-164.266667-140.8-294.4-309.333333-275.2-128 14.933333-230.4 117.333333-243.2 245.333334-10.666667 98.133333 29.866667 185.6 98.133333 241.066666 29.866667 25.6 49.066667 61.866667 49.066667 102.4v6.4h256v-2.133333c0-38.4 17.066667-76.8 46.933333-102.4 61.866667-51.2 102.4-128 102.4-215.466667z" fill="#FBC02D" p-id="4680"></path><path d="M652.8 430.933333l-64-42.666666c-6.4-4.266667-17.066667-4.266667-23.466667 0L512 422.4l-51.2-34.133333c-6.4-4.266667-17.066667-4.266667-23.466667 0l-64 42.666666c-4.266667 4.266667-8.533333 8.533333-8.533333 14.933334s0 12.8 4.266667 17.066666l81.066666 100.266667V789.333333h42.666667V554.666667c0-4.266667-2.133333-8.533333-4.266667-12.8l-70.4-87.466667 32-21.333333 51.2 34.133333c6.4 4.266667 17.066667 4.266667 23.466667 0l51.2-34.133333 32 21.333333-70.4 87.466667c-2.133333 4.266667-4.266667 8.533333-4.266667 12.8v234.666666h42.666667V563.2l81.066667-100.266667c4.266667-4.266667 6.4-10.666667 4.266666-17.066666s-4.266667-12.8-8.533333-14.933334z" fill="#FFF59D" p-id="4681"></path><path d="M512 938.666667m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" fill="#5C6BC0" p-id="4682"></path><path d="M554.666667 960h-85.333334c-46.933333 0-85.333333-38.4-85.333333-85.333333v-106.666667h256v106.666667c0 46.933333-38.4 85.333333-85.333333 85.333333z" fill="#9FA8DA" p-id="4683"></path><path d="M640 874.666667l-247.466667 34.133333c6.4 14.933333 19.2 29.866667 34.133334 38.4l200.533333-27.733333c8.533333-12.8 12.8-27.733333 12.8-44.8zM384 825.6v42.666667L640 832v-42.666667z" fill="#5C6BC0" p-id="4684"></path></svg> <style>
          blockquote {
            background-color: var(--code-color);
            border-color: #67cc86;
            border-left-width: 0.5rem;
            border-left-style: solid;
          }
        </style><p>无穷除以无穷是什么结果？</p> <p>从数学运算和JavaScript语言的角度来说，<code>Infinity/Infinity</code>是一个未定义操作，结果为<code>NaN</code>。</p> <p>如果是有穷正数除以<code>Infinity</code>呢？很简单，结果为0。</p></div><h3 id="零值"><a href="#零值" class="header-anchor">#</a> 零值</h3> <div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p><code>-0</code>除了可以用作常量以外，也可以是某些数学运算的返回值：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">/</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">// -0</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">*</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">// -0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>加法和减法运算不会得到负零（negative zero）。</p></div><div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p>根据规范，对负零进行字符串化会返回<code>&quot;0&quot;</code>：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">/</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">;</span>

<span class="token comment">// 至少在某些浏览器的控制台中显示是正确的</span>
a<span class="token punctuation">;</span>                           <span class="token comment">// -0</span>

<span class="token comment">// 但是规范定义的返回结果是这样！</span>
a<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">// &quot;0&quot;</span>
a <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>                     <span class="token comment">// &quot;0&quot;</span>
<span class="token function">String</span><span class="token punctuation">(</span> a <span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// &quot;0&quot;</span>

<span class="token comment">// JSON也如此，很奇怪</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span> a <span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// &quot;0&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>如果反过来将其从字符串转换为数字，得到的结果是准确的</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">+</span><span class="token string">&quot;-0&quot;</span><span class="token punctuation">;</span>              <span class="token comment">// -0</span>
<span class="token function">Number</span><span class="token punctuation">(</span> <span class="token string">&quot;-0&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// -0</span>
<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span> <span class="token string">&quot;-0&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -0</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>JSON.stringify(-0)返回&quot;0&quot;，而JSON.parse(&quot;-0&quot;)返回-0。</strong></p></div><div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p><code>-0</code>和<code>0</code>的区分方式：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">isNegZero</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  n <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span> n <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>n <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">/</span> n <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">Infinity</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">isNegZero</span><span class="token punctuation">(</span> <span class="token operator">-</span><span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// true</span>
<span class="token function">isNegZero</span><span class="token punctuation">(</span> <span class="token number">0</span> <span class="token operator">/</span> <span class="token operator">-</span><span class="token number">3</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// true</span>
<span class="token function">isNegZero</span><span class="token punctuation">(</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></div><div class="note-block"><svg t="1665301607231" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4678" width="200" height="200" class="icon" style="width:20px;height:20px;"><path d="M512 469.333333m-426.666667 0a426.666667 426.666667 0 1 0 853.333334 0 426.666667 426.666667 0 1 0-853.333334 0Z" fill="#FFF59D" p-id="4679"></path><path d="M789.333333 469.333333c0-164.266667-140.8-294.4-309.333333-275.2-128 14.933333-230.4 117.333333-243.2 245.333334-10.666667 98.133333 29.866667 185.6 98.133333 241.066666 29.866667 25.6 49.066667 61.866667 49.066667 102.4v6.4h256v-2.133333c0-38.4 17.066667-76.8 46.933333-102.4 61.866667-51.2 102.4-128 102.4-215.466667z" fill="#FBC02D" p-id="4680"></path><path d="M652.8 430.933333l-64-42.666666c-6.4-4.266667-17.066667-4.266667-23.466667 0L512 422.4l-51.2-34.133333c-6.4-4.266667-17.066667-4.266667-23.466667 0l-64 42.666666c-4.266667 4.266667-8.533333 8.533333-8.533333 14.933334s0 12.8 4.266667 17.066666l81.066666 100.266667V789.333333h42.666667V554.666667c0-4.266667-2.133333-8.533333-4.266667-12.8l-70.4-87.466667 32-21.333333 51.2 34.133333c6.4 4.266667 17.066667 4.266667 23.466667 0l51.2-34.133333 32 21.333333-70.4 87.466667c-2.133333 4.266667-4.266667 8.533333-4.266667 12.8v234.666666h42.666667V563.2l81.066667-100.266667c4.266667-4.266667 6.4-10.666667 4.266666-17.066666s-4.266667-12.8-8.533333-14.933334z" fill="#FFF59D" p-id="4681"></path><path d="M512 938.666667m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" fill="#5C6BC0" p-id="4682"></path><path d="M554.666667 960h-85.333334c-46.933333 0-85.333333-38.4-85.333333-85.333333v-106.666667h256v106.666667c0 46.933333-38.4 85.333333-85.333333 85.333333z" fill="#9FA8DA" p-id="4683"></path><path d="M640 874.666667l-247.466667 34.133333c6.4 14.933333 19.2 29.866667 34.133334 38.4l200.533333-27.733333c8.533333-12.8 12.8-27.733333 12.8-44.8zM384 825.6v42.666667L640 832v-42.666667z" fill="#5C6BC0" p-id="4684"></path></svg> <style>
          blockquote {
            background-color: var(--code-color);
            border-color: #67cc86;
            border-left-width: 0.5rem;
            border-left-style: solid;
          }
        </style><p>我们为什么需要负零？</p> <blockquote><p>有些应用程序中的数据需要以级数形式来表示（比如动画帧的移动速度），数字的符号位（sign）用来代表其他信息（比如移动的方向）。此时如果一个值为0的变量失去了它的符号位，它的方向信息就会丢失。所以保留0值的符号位可以防止这类情况发生。</p></blockquote></div><h3 id="特殊等式"><a href="#特殊等式" class="header-anchor">#</a> 特殊等式</h3> <div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p>使用ES6新加的工具方法<code>Object.is()</code>来判断两个值是否绝对相等：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">/</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">3</span> ＊ <span class="token number">0</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span> a<span class="token punctuation">,</span> <span class="token number">NaN</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// true</span>
Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span> b<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// true</span>

Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span> b<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>ES6之前的polyfill</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> Object<span class="token punctuation">.</span>is<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Object<span class="token punctuation">.</span><span class="token function-variable function">is</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">v1<span class="token punctuation">,</span> v2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 判断是否是-0</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>v1 <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> v2 <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token number">1</span> <span class="token operator">/</span> v1 <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">/</span> v2<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 判断是否是NaN</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>v1 <span class="token operator">!</span> <span class="token operator">==</span> v1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> v2 <span class="token operator">!</span> <span class="token operator">==</span> v2<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 其他情况</span>
    <span class="token keyword">return</span> v1 <span class="token operator">===</span> v2<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></div><h3 id="值和引用"><a href="#值和引用" class="header-anchor">#</a> 值和引用</h3> <div class="note-block"><svg t="1665301607231" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4678" width="200" height="200" class="icon" style="width:20px;height:20px;"><path d="M512 469.333333m-426.666667 0a426.666667 426.666667 0 1 0 853.333334 0 426.666667 426.666667 0 1 0-853.333334 0Z" fill="#FFF59D" p-id="4679"></path><path d="M789.333333 469.333333c0-164.266667-140.8-294.4-309.333333-275.2-128 14.933333-230.4 117.333333-243.2 245.333334-10.666667 98.133333 29.866667 185.6 98.133333 241.066666 29.866667 25.6 49.066667 61.866667 49.066667 102.4v6.4h256v-2.133333c0-38.4 17.066667-76.8 46.933333-102.4 61.866667-51.2 102.4-128 102.4-215.466667z" fill="#FBC02D" p-id="4680"></path><path d="M652.8 430.933333l-64-42.666666c-6.4-4.266667-17.066667-4.266667-23.466667 0L512 422.4l-51.2-34.133333c-6.4-4.266667-17.066667-4.266667-23.466667 0l-64 42.666666c-4.266667 4.266667-8.533333 8.533333-8.533333 14.933334s0 12.8 4.266667 17.066666l81.066666 100.266667V789.333333h42.666667V554.666667c0-4.266667-2.133333-8.533333-4.266667-12.8l-70.4-87.466667 32-21.333333 51.2 34.133333c6.4 4.266667 17.066667 4.266667 23.466667 0l51.2-34.133333 32 21.333333-70.4 87.466667c-2.133333 4.266667-4.266667 8.533333-4.266667 12.8v234.666666h42.666667V563.2l81.066667-100.266667c4.266667-4.266667 6.4-10.666667 4.266666-17.066666s-4.266667-12.8-8.533333-14.933334z" fill="#FFF59D" p-id="4681"></path><path d="M512 938.666667m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" fill="#5C6BC0" p-id="4682"></path><path d="M554.666667 960h-85.333334c-46.933333 0-85.333333-38.4-85.333333-85.333333v-106.666667h256v106.666667c0 46.933333-38.4 85.333333-85.333333 85.333333z" fill="#9FA8DA" p-id="4683"></path><path d="M640 874.666667l-247.466667 34.133333c6.4 14.933333 19.2 29.866667 34.133334 38.4l200.533333-27.733333c8.533333-12.8 12.8-27.733333 12.8-44.8zM384 825.6v42.666667L640 832v-42.666667z" fill="#5C6BC0" p-id="4684"></path></svg> <style>
          blockquote {
            background-color: var(--code-color);
            border-color: #67cc86;
            border-left-width: 0.5rem;
            border-left-style: solid;
          }
        </style><p>JavaScript中没有指针，引用的工作机制也不尽相同。在JavaScript中变量不可能成为指向另一个变量的引用。</p> <p>JavaScript中引用指向的是值。如果一个值有10个引用，这些引用指向的都是同一个值，它们相互之间没有引用/指向关系。</p></div><div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p>简单值（即标量基本类型值，scalar primitive）总是通过值复制的方式来赋值/传递，包括<code>null、undefined、字符串、数字、布尔和ES6中的symbol</code>。</p> <p>复合值（compound value）——对象（包括数组和封装对象，参见第3章）和函数，则总是通过引用复制的方式来赋值/传递。</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span> <span class="token comment">// b是a的值的一个复本</span>
b<span class="token operator">++</span><span class="token punctuation">;</span>
a<span class="token punctuation">;</span> <span class="token comment">// 2</span>
b<span class="token punctuation">;</span> <span class="token comment">// 3</span>

<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> d <span class="token operator">=</span> c<span class="token punctuation">;</span> <span class="token comment">// d是[1,2,3]的一个引用</span>
d<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> <span class="token number">4</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
c<span class="token punctuation">;</span> <span class="token comment">// [1,2,3,4]</span>
d<span class="token punctuation">;</span> <span class="token comment">// [1,2,3,4]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></div><div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p>由于引用指向的是值本身而非变量，所以一个引用无法更改另一个引用的指向。</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span>
a<span class="token punctuation">;</span> <span class="token comment">// [1,2,3]</span>
b<span class="token punctuation">;</span> <span class="token comment">// [1,2,3]</span>

<span class="token comment">// 然后</span>
b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
a<span class="token punctuation">;</span> <span class="token comment">// [1,2,3]</span>
b<span class="token punctuation">;</span> <span class="token comment">// [4,5,6]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><code>b=[4,5,6]</code>并不影响<code>a</code>指向值<code>[1,2,3]</code>，除非<code>b</code>不是指向数组的引用，而是指向<code>a</code>的指针，但在JavaScript中不存在这种情况！</p></div><div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  x<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  x<span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, 4]</span>

  x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  x<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span>
  x<span class="token punctuation">;</span> <span class="token comment">// [4, 5, 6, 7]</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">foo</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>

a<span class="token punctuation">;</span> <span class="token comment">// 是[1, 2, 3, 4]，不是[4, 5, 6 7]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>我们向函数传递<code>a</code>的时候，实际是将引用<code>a</code>的一个复本赋值给<code>x</code>，而<code>a</code>仍然指向<code>[1, 2, 3]</code>。在函数中我们可以通过引用<code>x</code>来更改数组<code>a</code>的值（<code>push(4)</code>之后变为<code>[1, 2, 3, 4]</code>）。但<code>x = [4, 5, 6]</code>并不影响数组<code>a</code>的引用指向，所以<code>a</code>仍然指向<code>[1, 2, 3, 4]</code>。</p> <p>我们不能通过引用<code>x</code>来更改<code>a</code>的指向，只能更改<code>a</code>和<code>x</code>共同的值。</p> <p>如果要将<code>a</code>的值改变为<code>[4, 5, 6, 7]</code>，必须更改<code>x</code>指向的数组，而不是为<code>x</code>赋值一个新的数组。</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  x<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> <span class="token number">4</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  x<span class="token punctuation">;</span> <span class="token comment">// [1,2,3,4]</span>

  <span class="token comment">// 然后</span>
  x<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 清空数组</span>
  x<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  x<span class="token punctuation">;</span> <span class="token comment">// [4,5,6,7]</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">foo</span><span class="token punctuation">(</span> a <span class="token punctuation">)</span><span class="token punctuation">;</span>

a<span class="token punctuation">;</span> <span class="token comment">// 是[4,5,6,7]，不是[1,2,3,4]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><code>x.length = 0</code>和<code>x.push(4, 5, 6, 7)</code>并没有创建一个新的数组，而是更改了当前的数组。于是<code>a</code>指向的值变成了<code>[4, 5, 6, 7]</code>。</p> <p>如果通过值赋值的方式来传递复合值（如数组），就需要为其创建一个复本，这样传递的就不再是原始值的引用复本。例如</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token function">foo</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span> <span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>slice()</code>不带参数会返回当前数组的一个浅复本（shallow copy）。由于传递给函数的是指向该复本的引用，所以<code>foo()</code>中的操作不会影响<code>a</code>指向的数组。</p></div><div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p>如果要将标量基本类型值传递到函数内并进行更改，就需要将该值封装到一个复合对象（对象、数组等）中，然后通过引用复制的方式传递。</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">wrapper</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  wrapper<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  a<span class="token punctuation">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">foo</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span><span class="token punctuation">;</span>

obj<span class="token punctuation">.</span>a<span class="token punctuation">;</span> <span class="token comment">// 42</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>如果传递指向数字对象的引用复本，我们并不能通过它来更改其中的基本类型值：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  x <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
  x<span class="token punctuation">;</span> <span class="token comment">// 3</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Object(a)也一样</span>

<span class="token function">foo</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 是2， 不是3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>原因是标量基本类型值是不可更改的（字符串和布尔也是如此）。如果一个数字对象的标量基本类型值是<code>2</code>，那么该值就不能更改，除非创建一个包含新值的数字对象。</p> <p><code>x = x + 1</code>中，<code>x</code>中的标量基本类型值<code>2</code>从数字对象中拆封（或提取）出来后，<code>x</code>就神不知鬼不觉地从引用变成了数字对象，它的值为<code>2 + 1 等于 3</code>。然而函数外的<code>b</code>仍然指向原来那个值为<code>2</code>的数字对象。</p></div><h2 id="第三章-原生函数"><a href="#第三章-原生函数" class="header-anchor">#</a> 第三章 原生函数</h2> <div class="note-block"><svg t="1665301607231" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4678" width="200" height="200" class="icon" style="width:20px;height:20px;"><path d="M512 469.333333m-426.666667 0a426.666667 426.666667 0 1 0 853.333334 0 426.666667 426.666667 0 1 0-853.333334 0Z" fill="#FFF59D" p-id="4679"></path><path d="M789.333333 469.333333c0-164.266667-140.8-294.4-309.333333-275.2-128 14.933333-230.4 117.333333-243.2 245.333334-10.666667 98.133333 29.866667 185.6 98.133333 241.066666 29.866667 25.6 49.066667 61.866667 49.066667 102.4v6.4h256v-2.133333c0-38.4 17.066667-76.8 46.933333-102.4 61.866667-51.2 102.4-128 102.4-215.466667z" fill="#FBC02D" p-id="4680"></path><path d="M652.8 430.933333l-64-42.666666c-6.4-4.266667-17.066667-4.266667-23.466667 0L512 422.4l-51.2-34.133333c-6.4-4.266667-17.066667-4.266667-23.466667 0l-64 42.666666c-4.266667 4.266667-8.533333 8.533333-8.533333 14.933334s0 12.8 4.266667 17.066666l81.066666 100.266667V789.333333h42.666667V554.666667c0-4.266667-2.133333-8.533333-4.266667-12.8l-70.4-87.466667 32-21.333333 51.2 34.133333c6.4 4.266667 17.066667 4.266667 23.466667 0l51.2-34.133333 32 21.333333-70.4 87.466667c-2.133333 4.266667-4.266667 8.533333-4.266667 12.8v234.666666h42.666667V563.2l81.066667-100.266667c4.266667-4.266667 6.4-10.666667 4.266666-17.066666s-4.266667-12.8-8.533333-14.933334z" fill="#FFF59D" p-id="4681"></path><path d="M512 938.666667m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" fill="#5C6BC0" p-id="4682"></path><path d="M554.666667 960h-85.333334c-46.933333 0-85.333333-38.4-85.333333-85.333333v-106.666667h256v106.666667c0 46.933333-38.4 85.333333-85.333333 85.333333z" fill="#9FA8DA" p-id="4683"></path><path d="M640 874.666667l-247.466667 34.133333c6.4 14.933333 19.2 29.866667 34.133334 38.4l200.533333-27.733333c8.533333-12.8 12.8-27.733333 12.8-44.8zM384 825.6v42.666667L640 832v-42.666667z" fill="#5C6BC0" p-id="4684"></path></svg> <style>
          blockquote {
            background-color: var(--code-color);
            border-color: #67cc86;
            border-left-width: 0.5rem;
            border-left-style: solid;
          }
        </style><p>常用的原生函数有：</p> <ul><li>String()</li> <li>Number()</li> <li>Boolean()</li> <li>Array()</li> <li>Object()</li> <li>Function()</li> <li>RegExp()</li> <li>Date()</li> <li>Error()</li> <li>Symbol()</li></ul></div><div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p>通过构造函数（如 <code>new String('abc')</code>）创建出来的是封装了基本类型值（如<code>'abc'</code>）的封装对象。</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span> <span class="token string">&quot;abc&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">typeof</span> a<span class="token punctuation">;</span>                             <span class="token comment">// 是&quot;object&quot;，不是&quot;String&quot;</span>

a <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">;</span>                 <span class="token comment">// true</span>

<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> a <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;[object String]&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>再次强调，<code>new String('abc')</code>创建的是字符串<code>'abc'</code>的封装对象，而非基本类型值<code>'abc'</code></strong></p></div><h3 id="内部属性-class"><a href="#内部属性-class" class="header-anchor">#</a> 内部属性[[Class]]</h3> <div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p>所有<code>typeof</code>返回值为<code>&quot;Object&quot;</code>的对象（如数组）都包含一个内部属性<code>[[Class]]</code>（我们可以把它看作一个内部的分类，而非传统的面向对象意义上的类）。这个属性无法直接访问，一般通过<code>Object.prototype.toString()</code>来查看</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &quot;[object Array]&quot;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> <span class="token regex">/regex-literal/i</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &quot;[object RegExp]&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></div><div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p>虽然<code>Null()</code>和<code>Undefined()</code>这样的原生构造函数并不存在，但是内部<code>[[Class]]</code>属性值仍然是<code>&quot;Null&quot;</code>和<code>&quot;Undefined&quot;</code>。</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;[object Null]&quot;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;[object Undefined]&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></div><div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p>本例中基本类型值被各自的封装对象自动包装，所以它们的内部<code>[[Class]]</code>属性值分别为<code>&quot;String&quot;</code>、<code>&quot;Number&quot;</code>、<code>&quot;Boolean&quot;</code>。</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &quot;[object String]&quot;</span>

<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &quot;[object Number]&quot;</span>

<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &quot;[object Boolean]&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></div><h3 id="封装对象包装"><a href="#封装对象包装" class="header-anchor">#</a> 封装对象包装</h3> <div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p>由于基本类型值没有<code>.length</code>和<code>.toString()</code>这样的属性和方法，需要通过封装对象才能访问，此时JavaScript会自动为基本类型值包装（box或者wrap）一个封装对象：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">;</span>

a<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment">// 3</span>
a<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;ABC&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>一般情况下，我们不需要直接使用封装对象。最好的方式是让JavaScript引擎自己决定什么时候应该是用封装对象。这是因为浏览器已经为<code>.length</code>这样的情况做了性能优化，直接使用封装对象来“提前优化”代码反而会降低执行效率。</p></div><div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p>为false创建了一个封装对象，然而该对象是真值，所以这里使用封装对象得到的结果和使用false截然相反：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Oops'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 执行不到这里</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>如果想要得到封装对象中的基本类型值，可以使用<code>valueOf()</code>函数：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>a<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Oops'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 可以执行到这里了</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>在需要用到封装对象中的基本类型值的地方会发生隐式拆封。即发生强制类型转换</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span> <span class="token string">&quot;abc&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> a <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span> <span class="token comment">// b的值为&quot;abc&quot;</span>

<span class="token keyword">typeof</span> a<span class="token punctuation">;</span>       <span class="token comment">// &quot;object&quot;</span>
<span class="token keyword">typeof</span> b<span class="token punctuation">;</span>       <span class="token comment">// &quot;string&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></div><h3 id="原生函数作为构造函数"><a href="#原生函数作为构造函数" class="header-anchor">#</a> 原生函数作为构造函数</h3> <div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p>构造函数<code>Array()</code>不要求必须带<code>new</code>关键字。不带时，它会被自动补上。因此<code>Array(1, 2, 3)</code>和<code>new Array(1, 2, 3)</code>的效果是一样的。</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
a<span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3]</span>

<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
b<span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code>Array</code>构造函数只带一个数字参数的时候，该参数会被作为数组的预设长度（<code>length</code>），而非只充当数组中的一个元素。</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
a<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment">// 12</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></div><div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span> <span class="token number">3</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
c<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>

a<span class="token punctuation">;</span>
b<span class="token punctuation">;</span>
c<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>如例子中的<code>c</code>，只要将<code>length</code>属性设置为超过实际单元数的值，就能隐式地制造出空单元。另外还可以通过<code>delete b[1]</code>在数组<code>b</code>中制造一个空单元。</p> <p>上例中a和b的行为有时相同，有时又大相径庭</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code>a<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span> <span class="token string">&quot;-&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;--&quot;</span>
b<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span> <span class="token string">&quot;-&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;--&quot;</span>

a<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> i<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [空 ã10]</span>
b<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> i<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [0, 空, 2, 3]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code>a.map()</code>之所以会执行失败，是因为数组中并不存在任何单元，所以<code>map()</code>无从遍历。而<code>join()</code>却不一样，它的具体实现可参考下面的代码</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fakeJoin</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> connector</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      str <span class="token operator">+=</span> connector<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!</span> <span class="token operator">==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      str <span class="token operator">+=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> str<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span> <span class="token number">3</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">fakeJoin</span><span class="token punctuation">(</span> a<span class="token punctuation">,</span> <span class="token string">&quot;-&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;--&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>我们可以通过下述方式来创建包含<code>undefined</code>单元的数组：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>length<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
a<span class="token punctuation">;</span> <span class="token comment">// [undefined, undefined. undefined]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>虽然<code>Array.apply(null, {length: 3})</code>在创建<code>undefined</code>值的数组时有些奇怪和繁琐，但是其结果远比<code>Array(3)</code>更准确可靠。</p></div><div class="note-block"><svg t="1665301607231" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4678" width="200" height="200" class="icon" style="width:20px;height:20px;"><path d="M512 469.333333m-426.666667 0a426.666667 426.666667 0 1 0 853.333334 0 426.666667 426.666667 0 1 0-853.333334 0Z" fill="#FFF59D" p-id="4679"></path><path d="M789.333333 469.333333c0-164.266667-140.8-294.4-309.333333-275.2-128 14.933333-230.4 117.333333-243.2 245.333334-10.666667 98.133333 29.866667 185.6 98.133333 241.066666 29.866667 25.6 49.066667 61.866667 49.066667 102.4v6.4h256v-2.133333c0-38.4 17.066667-76.8 46.933333-102.4 61.866667-51.2 102.4-128 102.4-215.466667z" fill="#FBC02D" p-id="4680"></path><path d="M652.8 430.933333l-64-42.666666c-6.4-4.266667-17.066667-4.266667-23.466667 0L512 422.4l-51.2-34.133333c-6.4-4.266667-17.066667-4.266667-23.466667 0l-64 42.666666c-4.266667 4.266667-8.533333 8.533333-8.533333 14.933334s0 12.8 4.266667 17.066666l81.066666 100.266667V789.333333h42.666667V554.666667c0-4.266667-2.133333-8.533333-4.266667-12.8l-70.4-87.466667 32-21.333333 51.2 34.133333c6.4 4.266667 17.066667 4.266667 23.466667 0l51.2-34.133333 32 21.333333-70.4 87.466667c-2.133333 4.266667-4.266667 8.533333-4.266667 12.8v234.666666h42.666667V563.2l81.066667-100.266667c4.266667-4.266667 6.4-10.666667 4.266666-17.066666s-4.266667-12.8-8.533333-14.933334z" fill="#FFF59D" p-id="4681"></path><path d="M512 938.666667m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" fill="#5C6BC0" p-id="4682"></path><path d="M554.666667 960h-85.333334c-46.933333 0-85.333333-38.4-85.333333-85.333333v-106.666667h256v106.666667c0 46.933333-38.4 85.333333-85.333333 85.333333z" fill="#9FA8DA" p-id="4683"></path><path d="M640 874.666667l-247.466667 34.133333c6.4 14.933333 19.2 29.866667 34.133334 38.4l200.533333-27.733333c8.533333-12.8 12.8-27.733333 12.8-44.8zM384 825.6v42.666667L640 832v-42.666667z" fill="#5C6BC0" p-id="4684"></path></svg> <style>
          blockquote {
            background-color: var(--code-color);
            border-color: #67cc86;
            border-left-width: 0.5rem;
            border-left-style: solid;
          }
        </style><p>创建日期对象必须使用<code>new Date()</code>。<code>Date()</code>可以带参数，用来指定日期和时间，而不带参数的话则使用当前的日期和时间。</p> <p><code>Date()</code>主要用来获得当前的<code>Unix</code>时间戳（从1970年1月1日开始计算，以秒为单位）。该值可以通过日期对象中的<code>getTime()</code>来获得。</p> <p>ES5开始引入了静态函数<code>Date.now()</code>。对ES5之前的版本，可以使用下面的polyfill：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Date<span class="token punctuation">.</span>now<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  Date<span class="token punctuation">.</span><span class="token function-variable function">now</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>如果调用<code>Date()</code>时不带<code>new</code>关键字，则会得到当前日期的字符串值。其具体格式规范没有规定，浏览器中使用&quot;Thu Dec 01 2022 10:39:53 GMT+0800 (中国标准时间)&quot;这样的格式来显示。</p></div><div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p>构造函数<code>Error()</code>（与前面的<code>Array()</code>类似）带不带<code>new</code>关键字都可以。错误对象通常与<code>throw</code>一起使用。</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span> <span class="token string">&quot;x wasn't provided&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// ..</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>错误对象至少包含一个<code>message</code>属性，有时也不乏其他属性（必须作为只读属性访问），如<code>type</code>。除了访问<code>stack</code>属性以外，最好的办法是调用（显示调用或者通过强制类型转换隐式调用）<code>toString()</code>来获得经过格式化的便于阅读的错误信息。</p> <p><strong>除<code>Error()</code>之外，还有一些针对特定错误类型的原生构造函数，如<code>EvalError()</code>、<code>RangeError()</code>、<code>ReferenceError()</code>、<code>SyntaxError()</code>、<code>TypeError()</code>和<code>URIError()</code>。这些构造函数很少被直接使用，它们在程序发生异常（比如试图使用未声明的变量产生ReferenceError错误）时会被自动调用</strong></p></div><h3 id="symbol"><a href="#symbol" class="header-anchor">#</a> Symbol()</h3> <div class="note-block"><svg t="1665301607231" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4678" width="200" height="200" class="icon" style="width:20px;height:20px;"><path d="M512 469.333333m-426.666667 0a426.666667 426.666667 0 1 0 853.333334 0 426.666667 426.666667 0 1 0-853.333334 0Z" fill="#FFF59D" p-id="4679"></path><path d="M789.333333 469.333333c0-164.266667-140.8-294.4-309.333333-275.2-128 14.933333-230.4 117.333333-243.2 245.333334-10.666667 98.133333 29.866667 185.6 98.133333 241.066666 29.866667 25.6 49.066667 61.866667 49.066667 102.4v6.4h256v-2.133333c0-38.4 17.066667-76.8 46.933333-102.4 61.866667-51.2 102.4-128 102.4-215.466667z" fill="#FBC02D" p-id="4680"></path><path d="M652.8 430.933333l-64-42.666666c-6.4-4.266667-17.066667-4.266667-23.466667 0L512 422.4l-51.2-34.133333c-6.4-4.266667-17.066667-4.266667-23.466667 0l-64 42.666666c-4.266667 4.266667-8.533333 8.533333-8.533333 14.933334s0 12.8 4.266667 17.066666l81.066666 100.266667V789.333333h42.666667V554.666667c0-4.266667-2.133333-8.533333-4.266667-12.8l-70.4-87.466667 32-21.333333 51.2 34.133333c6.4 4.266667 17.066667 4.266667 23.466667 0l51.2-34.133333 32 21.333333-70.4 87.466667c-2.133333 4.266667-4.266667 8.533333-4.266667 12.8v234.666666h42.666667V563.2l81.066667-100.266667c4.266667-4.266667 6.4-10.666667 4.266666-17.066666s-4.266667-12.8-8.533333-14.933334z" fill="#FFF59D" p-id="4681"></path><path d="M512 938.666667m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z" fill="#5C6BC0" p-id="4682"></path><path d="M554.666667 960h-85.333334c-46.933333 0-85.333333-38.4-85.333333-85.333333v-106.666667h256v106.666667c0 46.933333-38.4 85.333333-85.333333 85.333333z" fill="#9FA8DA" p-id="4683"></path><path d="M640 874.666667l-247.466667 34.133333c6.4 14.933333 19.2 29.866667 34.133334 38.4l200.533333-27.733333c8.533333-12.8 12.8-27.733333 12.8-44.8zM384 825.6v42.666667L640 832v-42.666667z" fill="#5C6BC0" p-id="4684"></path></svg> <style>
          blockquote {
            background-color: var(--code-color);
            border-color: #67cc86;
            border-left-width: 0.5rem;
            border-left-style: solid;
          }
        </style><p>符号是具有唯一性的特殊值（并非绝对），用它来命名对象属性不容易导致重名。该类型的引入主要源于ES6的一些特殊构造，此外符号也可以自行定义。</p></div><div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p>ES6中有一些预定义符号，以<code>Symbol</code>的静态属性形式出现，如<code>Symbol.create</code>、<code>Symbol.iterator</code>等</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code>obj<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token regex">/＊..＊/</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>我们可以使用<code>Symbol()</code>原生构造函数来自定义符号。但它比较特殊，不能带<code>new</code>关键字，否则会报错</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> mysym <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span> <span class="token string">&quot;my own symbol&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
mysym<span class="token punctuation">;</span>              <span class="token comment">// Symbol(my own symbol)</span>
mysym<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// &quot;Symbol(my own symbol)&quot;</span>
<span class="token keyword">typeof</span> mysym<span class="token punctuation">;</span>       <span class="token comment">// &quot;symbol&quot;</span>

<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
a<span class="token punctuation">[</span>mysym<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;foobar&quot;</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span> a <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [ Symbol(my own symbol) ]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>虽然符号实际上并非私有属性（通过<code>Object.getOwnPropertySymbols()</code>便可以公开获得对象中的所有符号），但它却主要用于私有或特殊属性。很多开发人员喜欢用它来替代下划线方法前缀的属性，而下划线前缀通常用于命名私有或特殊属性。</p> <p><strong>符号并非对象，而是一种简单标量基本类型。</strong></p></div><h3 id="原生原型"><a href="#原生原型" class="header-anchor">#</a> 原生原型</h3> <div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p>有些原生原型并非普通对象那么简单：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">typeof</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>          <span class="token comment">// &quot;function&quot;</span>
<span class="token class-name">Function</span><span class="token punctuation">.</span><span class="token function">prototype</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token comment">// 空函数！</span>

<span class="token class-name">RegExp</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// &quot;/(? :)/&quot;——空正则表达式</span>
<span class="token string">&quot;abc&quot;</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span> <span class="token class-name">RegExp</span><span class="token punctuation">.</span>prototype <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// [&quot;&quot;]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>更糟糕的是，我们甚至可以修改它们（而不仅仅是添加属性）：</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype <span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// true</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 3</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>                    <span class="token comment">// [1,2,3]</span>

<span class="token comment">// 需要将Array.prototype设置回空，否则会导致问题！</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></div><div class="note-block"><svg t="1665486468429" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="16415" width="200" height="200" class="icon" style="width:20px;height:20px;fill:var(--text-color);"><path d="M944.981319 147.815557l0 413.93759c0 7.367805-3.949962 14.152325-10.345626 17.795295-3.755534 2.13871-93.335758 52.352345-208.80563 52.352345-111.100354 0-181.892677-20.537755-244.355287-38.660508-51.001581-14.797008-95.054913-27.578102-153.035442-27.578102-20.701484 0-40.97318 0.818645-60.262502 2.425236-11.266601 0.941442-21.151739-7.429203-22.093181-18.695804-0.931209-11.266601 7.429203-21.151739 18.695804-22.093181 20.414959-1.698688 41.832757-2.568499 63.659879-2.568499 63.803141 0 112.686479 14.183024 164.445306 29.194926 62.759369 18.21485 127.657448 37.043684 232.945423 37.043684 83.276658 0 152.800082-29.40982 178.219008-41.699728l0-368.963283c-37.83163 16.260335-102.095259 37.647435-178.219008 37.647435-86.663802 0-147.908678-26.125007-207.127408-51.380204-57.827033-24.661679-112.440885-47.962362-190.263321-47.962362-77.218686 0-123.420961 7.592932-148.573827 13.96813-14.612813 3.704368-24.02723 7.429203-29.645181 10.120498l0 750.216473c0 11.2973-9.168824 20.466124-20.466124 20.466124-11.307533 0-20.466124-9.168824-20.466124-20.466124l0-761.657037c0-5.577019 2.27174-10.908444 6.293333-14.766308 6.764054-6.487761 48.770773-38.814004 212.857922-38.814004 86.193081 0 147.263995 26.053376 206.318996 51.247174 57.990762 24.733311 112.768343 48.095391 191.071733 48.095391 94.348831 0 168.477133-36.132942 188.95349-47.205115 6.334265-3.428076 14.019295-3.27458 20.210297 0.419556C941.195086 133.929292 944.981319 140.601248 944.981319 147.815557z" p-id="16416"></path></svg> <style>
        blockquote {
          background-color: var(--code-color);
          border-color: #67cc86;
          border-left-width: 0.5rem;
          border-left-style: solid;
        }
      </style><p><code>Function.prototype</code>是一个空函数，<code>RegExp.prototype</code>是一个“空”的正则表达式（无任何匹配），而<code>Array.prototype</code>是一个空数组。对未赋值的变量来说，它们是很好的默认值。</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">isThisCool</span><span class="token punctuation">(</span><span class="token parameter">vals<span class="token punctuation">,</span> fn<span class="token punctuation">,</span> rx</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  vals <span class="token operator">=</span> vals <span class="token operator">||</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
  fn <span class="token operator">=</span> fn <span class="token operator">||</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>
  rx <span class="token operator">=</span> rx <span class="token operator">||</span> <span class="token class-name">RegExp</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>

  <span class="token keyword">return</span> rx<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>
    vals<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span> fn <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">isThisCool</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// true</span>

<span class="token function">isThisCool</span><span class="token punctuation">(</span>
  <span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> v<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token regex">/D/</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>这种方法的一个好处是<code>.prototype</code>已被创建并且仅创建一次。相反，如果将<code>[]</code>、<code>function(){}</code>和<code>/(? :)/</code>作为默认值，则每次调用<code>isThisCool(..)</code>时它们都会被创建一次（具体创建与否取决于JavaScript引擎，稍后它们可能会被垃圾回收），这样无疑会造成内存和CPU资源的浪费。</p> <p>另外需要注意的一点是，如果默认值随后会被更改，那就不要使用<code>Array.prototype</code>。上例中的<code>vals</code>是作为只读变量来使用，更改<code>vals</code>实际上就是更改<code>Array.prototype</code>，而这样会导致前面提到过的一系列问题！</p></div></div></div> <footer class="page-edit" style="display:none;"><!----> <!----></footer> <!----> <!----> <!----></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/assets/js/app.730fe383.js" defer></script><script src="/assets/js/3.9989142c.js" defer></script><script src="/assets/js/1.3a008db8.js" defer></script><script src="/assets/js/43.d2b53984.js" defer></script>
  </body>
</html>
